@model OPUSERP.Areas.HRPMSACR.Models.ACREvaluationViewModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Style{
    <style>
    </style>
}


<div class="row">

    <div id="tabs" class="project-tab col-sm-12">
        <div class="row">
            <nav style="display:none">
                <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
                    <a class="nav-link active" id="nav-1stPart-tab" data-toggle="tab" href="#nav-1stPart" role="tab" aria-controls="nav-1stPart" aria-selected="true">1st Part</a>
                    <a class="nav-link" id="nav-2ndPart-tab" data-toggle="tab" href="#nav-2ndPart" role="tab" aria-controls="nav-2ndPart" aria-selected="false">2nd Part</a>
                    <a class="nav-link" id="nav-3rdPart-tab" data-toggle="tab" href="#nav-3rdPart" role="tab" aria-controls="nav-3rdPart" aria-selected="false">3rd Part</a>
                    <a class="nav-link" id="nav-5thPart-tab" data-toggle="tab" href="#nav-5thPart" role="tab" aria-controls="nav-5thPart" aria-selected="false">5th Part</a>
                    <a class="nav-link" id="nav-6thPart-tab" data-toggle="tab" href="#nav-6thPart" role="tab" aria-controls="nav-6thPart" aria-selected="false">6th Part</a>
                    <a class="nav-link" id="nav-7thPart-tab" data-toggle="tab" href="#nav-7thPart" role="tab" aria-controls="nav-7thPart" aria-selected="false">7th Part</a>
                    <a class="nav-link" id="nav-8thPart-tab" data-toggle="tab" href="#nav-8thPart" role="tab" aria-controls="nav-8thPart" aria-selected="false">8th Part</a>


                </div>
            </nav>
        </div>
        <div class="row" style="height:10px;"></div>
        <div class="tab-content" id="nav-tabContent">
            <input type="hidden" id="assessmentId" name="assessmentId" value="@Model.assessmentId" />

            <div class="tab-pane fade show active" id="nav-1stPart" role="tabpanel" aria-labelledby="nav-1stPart-tab">
                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">
                            <div class="row">

                                <div class="col-md-2" style="padding-right:0px;">
                                    <img id="empImg" style="width:120px;height:120px;" class="img-circle" />
                                </div>
                                <div class="col-md-10" style="padding-left:0px;">
                                    <h5 class="card-title" style="color: black;text-align:center;">ডেপুটি জেনারেল ম্যানেজার ও তদুর্ধ্ব পর্যায়ের কর্মকর্তার গোপনীয় প্রতিবেদন</h5><br />
                                    <div class="form-group row" style="margin-left:150px;">

                                        <label for="session" class="col-sm-3 col-form-label text-right">বৎসর/সময়</label>
                                        <div class="col-sm-5">
                                            <input class="form-control" type="text" id="session" name="session" readonly />
                                        </div>
                                        <div class="col-md-4"></div>
                                    </div>
                                </div>
                            </div>


                            <hr>
                            <div class="container">

                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group row">
                                            <label for="employeeId" class="col-sm-4 col-form-label">পরিচিতি (আই ডি) নং</label>
                                            <div class="col-sm-8">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" data-parsley-required="true" placeholder="Search" id="employeeId" name="employeeId" aria-label="Search" aria-describedby="basic-addon2" readonly>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group row">
                                            <label for="fileNo" class="col-sm-4 col-form-label">নথি নং</label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" name="fileNo" id="fileNo" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group row">
                                            <label for="employeeName" class="col-sm-4 col-form-label">নাম</label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" name="employeeName" id="employeeName" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group row">
                                            <label for="designation" class="col-sm-4 col-form-label">বর্তমান পদবী</label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" name="designation" id="designation" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group row">
                                            <label for="positionType" class="col-sm-2 col-form-label">বর্তমান কর্মস্থল</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" name="branchName" id="branchName" readonly>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <div class="form-group row">
                                            <label for="positionType" class="col-sm-6 col-form-label">ডেপুটি জেনারেল ম্যানেজার পদে কর্মকালীন ব্যাংক ও আর্থিক প্রতিষ্ঠানের নাম</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="positionType" id="positionType" readonly>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>


                </div>

            </div>

            <div class="tab-pane fade" id="nav-2ndPart" role="tabpanel" aria-labelledby="nav-2ndPart-tab">
                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-12">
                                    <h5 class="card-title" style="color: black;text-align:center;"><u>২য় অংশ- জীবন বৃত্তান্ত ও অন্যান্য তথ্যাবলী</u></h5>
                                </div>
                            </div>
                            <hr>
                            <div class="container">

                                <div class="col-6">
                                    <div class="form-group row">
                                        <label for="speaking" class="col-sm-4 col-form-label">বৈবাহিক অবস্থা</label>
                                        <div class="col-sm-8" style="padding-right:0px;padding-left:0px;">
                                            <input type="radio" class="form-horizontal" name="maritalStatus" id="married" disabled>&nbsp;<span style="font-weight:normal;color:#606066;color:black;">বিবাহিত</span>&nbsp;&nbsp;
                                            <input type="radio" class="form-horizontal" name="maritalStatus" id="single" disabled>&nbsp;<span style="font-weight:normal;color:#606066;">অবিবাহিত</span>&nbsp;&nbsp;
                                            <input type="radio" class="form-horizontal" name="maritalStatus" id="widower" disabled>&nbsp;<span style="font-weight:normal;color:#606066;">বিপত্নীক</span>&nbsp;&nbsp;
                                            <input type="radio" class="form-horizontal" name="maritalStatus" id="widow" disabled>&nbsp;<span style="font-weight:normal;color:#606066;">বিধবা</span>&nbsp;&nbsp;
                                        </div><br />

                                        <label for="speaking" class="col-sm-5 col-form-label">সন্তান সংখ্যা</label>
                                        <div class="col-sm-3">
                                            <input type="text" class="form-horizontal" name="noOfSons" id="noOfSons" style="text-align:center" readonly>
                                        </div>
                                    </div>
                                </div><br />
                                <div class="form-group row">
                                    <label for="nameBangla" class="col-sm-3 col-form-label">১.১&nbsp;  নাম (স্পষ্টাক্ষরে)</label>
                                    <label for="nid" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="nameBangla" value="" name="nameBangla" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="designationOnReport" class="col-sm-3 col-form-label">১.২&nbsp;  প্রতিবেদনাধীন সময়কালে পদবী</label>
                                    <label for="nid" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="designationOnReport" value="" name="designationOnReport" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="nid" class="col-sm-3 col-form-label">১.৩&nbsp;  জাতীয় পরিচয়পত্র নম্বর</label>
                                    <label for="nid" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="nid" value="" name="nid" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="fatherOrSpouseName" class="col-sm-3 col-form-label">১.৪&nbsp;  পিতা/স্বামীর নাম </label>
                                    <label for="fatherOrSpouseName" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" data-parsley-length="[10, 30]" data-parsley-trigger="keyup" class="form-control" id="fatherOrSpouseName" value="" name="fatherOrSpouseName" style="text-transform:uppercase" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="motherName" class="col-sm-3 col-form-label">১.৫&nbsp;  মাতার নাম</label>
                                    <label for="motherName" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" data-parsley-length="[10, 30]" data-parsley-trigger="keyup" class="form-control" id="motherName" value="" name="motherName" style="text-transform:uppercase" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="dateOfBirth" class="col-sm-3 col-form-label">১.৬&nbsp;  জন্ম তারিখ</label>
                                    <label for="dateOfBirth" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="dateOfBirth" value="" name="dateOfBirth" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="educationalQ" class="col-sm-3 col-form-label">১.৭&nbsp;   শিক্ষাগত যোগ্যতা</label>
                                    <label for="educationalQ" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="educationalQ" value="" name="educationalQ" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="joiningDtCurrPost" class="col-sm-3 col-form-label">১.৮&nbsp;  বর্তমান পদে যোগদানের তারিখ</label>
                                    <label for="joiningDtCurrPost" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="joiningDtCurrPost" value="" name="joiningDtCurrPost" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="designationAtJoining" class="col-sm-3 col-form-label">১.৯&nbsp;  চাকুরীতে যোগদানকালীন পদবি</label>
                                    <label for="designationAtJoining" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="designationAtJoining" value="" name="designationAtJoining" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="datOfjoining" class="col-sm-3 col-form-label">১.১০&nbsp;  চাকুরীতে যোগদানের তারিখ</label>
                                    <label for="datOfjoining" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="datOfjoining" value="" name="datOfjoining" readonly>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="totalWorkingDays" class="col-sm-3 col-form-label">১.১১&nbsp;  চাকুরীর মোট কার্যকাল</label>
                                    <label for="totalWorkingDays" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control JobDurationDGM" id="JobDuration" value="" name="JobDuration" readonly>
                                    </div>

                                    <div class="col-sm-1">
                                        <button type="button" class="btn btn-info pull-right btn-sm" data-toggle="modal" data-target="#PostingModal">View</button>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="totalWorkingDays" class="col-sm-1 col-form-label"></label>
                                    <label for="totalWorkingDays" class="col-sm-2 col-form-label">ক) শাখা ব্যবস্থাপক হিসেবে</label>
                                    <label for="datOfjoining" class="col-sm-1 col-form-label">:</label>

                                    <div class="col-sm-8">
                                        <input class="form-control" id="JobDurationAsBranchManger" value="" name="JobDurationAsBranchManger" readonly>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="totalWorkingDays" class="col-sm-1 col-form-label"></label>
                                    <label for="asZonalHead" class="col-sm-2 col-form-label">খ) অঞ্চল/জোন প্রধান হিসেবে</label>
                                    <label for="asZonalHead" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">

                                        <input class="form-control" id="JobDurationAsZonalHead" value="" name="JobDurationAsZonalHead" readonly>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="totalWorkingDays" class="col-sm-1 col-form-label"></label>
                                    <label for="otherPost" class="col-sm-2 col-form-label">গ) অন্যান্য পদে</label>
                                    <label for="otherPost" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="JobDurationAsOthers" value="" name="JobDurationAsOthers" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="salaryScaleAndBasic" class="col-sm-3 col-form-label">১.১২&nbsp;  বেতন স্কেল ও বর্তমান বেতন</label>
                                    <label for="salaryScaleAndBasic" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="salaryScaleAndBasic" name="salaryScaleAndBasic" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="workingDaysUnderRepotingOfficer" class="col-sm-3 col-form-label">১.১৩&nbsp;  প্রতিবেদনাধীন কর্মকর্তার অধীনে চাকুরীকাল</label>
                                    <label for="workingDaysUnderRepotingOfficer" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="durationInRecommendetor" value="" name="durationInRecommendetor">
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="bankingDiploma" class="col-sm-3 col-form-label">১.১৪&nbsp;  ব্যাংকিং ডিপ্লোমা সংক্রান্ত তথ্য</label>
                                    <label for="bankingDiploma" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="bankingDiploma" value="" name="bankingDiploma" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="othersQ" class="col-sm-3 col-form-label">১.১৫&nbsp;  অন্য কোন শিক্ষাগত যোগ্যতা (যদি থাকে)</label>
                                    <label for="othersQ" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-8">
                                        <input class="form-control" id="othersQ" value="" name="othersQ" readonly>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="trainingAndPeriod" class="col-sm-3 col-form-label">১.১৬&nbsp;  প্রশিক্ষণের (দেশে/বিদেশে) বিবরণ ও সময়সীমা</label>
                                    <label for="trainingAndPeriod" class="col-sm-1 col-form-label">:</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" id="trainingAndPeriod" value="" name="trainingAndPeriod" readonly>
                                    </div>
                                    <div class="col-sm-1">
                                        <button type="button" class="btn btn-info pull-right btn-sm" data-toggle="modal" data-target="#assessmentModal">View</button>
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="targetAchievement" class="col-sm-3 col-form-label">১.১৭&nbsp;  প্রতিবেদনাধীন বছরে উল্লেখযোগ্য ৩টি লক্ষ্যমাত্রা অর্জনসহ সম্পাদিত কর্মকান্ডের বিবরণ (স্থান সংকুলান না হইলে পৃথক কাগজ ব্যবহার করা যাইবে)</label>
                                    <label for="goalAchievement" class="col-sm-1 col-form-label">:</label>
                                  
                                    <div class="col-sm-7" id="TextAreaHiddent">
                                        <textarea class="form-control" id="goalAchievement" value="" name="goalAchievement" rows="4" ></textarea>
                                    </div>
                                    <div class="col-sm-1">

                                        <button type="button" id="SongjuktiSave" class="btn btn-info pull-right btn-sm" onclick="OpenTargetDocs()">সংযুক্তি</button>

                                        <button type="button" id="viewdoc" class="btn btn-info pull-right btn-sm" onclick="OpenCertificateView()">সংযুক্তি দেখুন</button>


                                    </div>
                                </div>
                            </div>
                            <br />
                            <br />
                            <br />

                            <div class="row">

                                <div class="col-md-4">
                                    <div class="form-group row">
                                        <label for="bioSubmitDate" style="font-size:15px;">&nbsp;&nbsp;&nbsp; তারিখ : </label>
                                        <label class="col-sm-6">
                                            @*<input type="text" class="form-control" name="bioSubmitDate" value="@Model.AssessmentBasic?.toDate?.ToString("dd-MMM-yyyy")" id="bioSubmitDate" readonly>*@
                                            <input type="text" class="form-control" name="bioSubmitDate" value="@DateTime.Now.ToString("dd-MMM-yyyy")" id="bioSubmitDate" readonly>
                                        </label>
                                    </div>
                                </div>

                                @if (Model.isHRAdmin > 0)
                                {
                                    <div class="col-md-4">
                                        <h6 class="card-title" style="color: black">প্রতিবেদনকারী নির্বাচন করুন:</h6>
                                        <div class="form-group row" style="padding-bottom:0px;margin-bottom:0px;">
                                            <label class="col-sm-4 col-form-label">প্রতিবেদনকারী</label>
                                            <div class="col-md-8">
                                                <div class="input-group mb-3">
                                                    <input type="text" class="form-control" placeholder="পরিচিতি (আই ডি) নং" id="recomEmpId" aria-label="Search" aria-describedby="basic-addon2" value="@Model.AssessmentBasic?.recommendator">
                                                    <div class="input-group-append">
                                                        <button class="btn btn-primary form-control" type="button" onclick="GetRecommendatorNameByCode();" style="background-color:#69ae59"><i class="fa fa-search"></i></button>
                                                    </div>
                                                </div>
                                                <input type="hidden" id="recommendator" name="recommendator" value="@Model.AssessmentBasic?.recommendator" />
                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <label class="col-sm-4 col-form-label">নাম</label>
                                            <div class="col-md-8">
                                                <input id="recomEmpName" value="" class="form-control" readonly />
                                            </div>
                                        </div>

                                        <div class="form-group row">
                                            <label class="col-sm-4 col-form-label">পদবী</label>
                                            <div class="col-md-8">
                                                <input id="recomDesig" value="@Model.AssessmentBasic?.recommendatorDesig" class="form-control" readonly />
                                            </div>
                                        </div>

                                    </div>

                                }

                                <div class="col-md-4">
                                    <img id="user_signature" src="/EmpImages/@Model.AssessmentBasic?.ownSign" height="80" width="300" class="img-circle" /><br />
                                    <span>@Model.AssessmentBasic?.empName</span><br />
                                    @*<img src="@Model.AssessmentBasic?.recomSign" style="width:100px;height:40px;" />*@
                                    <hr style="padding:0px 0px 0px 0px;" />
                                    <span style="font-size:15px;">(প্রতিবেদনাধীন কর্মকর্তার স্বাক্ষর ও সীল) </span><br />
                                    <span style="font-size:15px;">পদবী : </span><span style="text-align:center">@Model.AssessmentBasic?.DesignationName</span><br />
                                    <span style="font-size:15px;">পরিচিতি নং : </span><span style="text-align:center">@Model.AssessmentBasic?.empCode</span><br />
                                </div>

                            </div>
                        </div>

                    </div>
                    <div style="height:10px;"></div>
                    <div class="col-sm-8" style="float:right; background-color: white;">

                    </div>
                    <div class="col-sm-4" style="float:right; background-color: white;">
                        <div class="form-group row">
                            <input type="button" value="Print" id="btnPrint" class="btn btn-info" style="width:100px;" onclick="getPrint()" />&nbsp;&nbsp;
                            <input type="button" value="Submit" id="btn2ndSave" class="btn btn-success btn-sm" style="width:100px;" />
                        </div>
                    </div>
                </div>

            </div>

            <div class="tab-pane fade" id="nav-3rdPart" role="tabpanel" aria-labelledby="nav-3rdPart-tab">
                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">
                            <h5 class="card-title" style="color: black;text-align:center;"><u>৩য় অংশ-ব্যক্তিগত বৈশিষ্ট্য: প্রতিবেদনকারী অনুস্বাক্ষর দ্বারা পূরণ করিবেন</u> </h5>
                            <input type="hidden" id="EmpCode" name="EmpCode" />
                            <div class="container">
                                <div class="card" style="padding:2%;">
                                    <div class="row">
                                        <div class="col-12">

                                            <div>
                                                <table class="table table-bordered table-striped clsTblPerformance" id="tblThirdPart">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2" style="text-align:center;">মূল্যায়ণের বিষয়</th>
                                                            <th colspan="4">প্রাপ্ত মান</th>
                                                        </tr>
                                                        <tr>
                                                            <th style="width:15%">৪</th>
                                                            <th style="width:15%">৩</th>
                                                            <th style="width:15%">২</th>
                                                            <th style="width:15%">১</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        @{
                                                            int index = 0;
                                                            foreach (var data in Model.AcrEvaluationList.Where(x => x.acrTypeId == 1))
                                                            {
                                                                <tr>
                                                                    <td style="width:60%"><input type="hidden" class="clsACREvaluationId" name="acrEvaluationNameId" value="@data.Id" /> @data.evaluationName<input type="hidden" id="acrId_@index" class="clsACRId" name="acrId" value="0" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgforthValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" />  <input type="radio" class="form-control clsForthValue" value="0" name="txt-@data.Id" id="forthValue-@data.Id" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgthirdValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" />  <input type="radio" class="form-control clsThirdValue" value="0" name="txt-@data.Id" id="thirdValue-@data.Id" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgsencondValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" /><input type="radio" class="form-control clsSecondValue" value="0" name="txt-@data.Id" id="sencondValue-@data.Id" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgfirstValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" />  <input type="radio" class="form-control clsFirstValue" value="0" name="txt-@data.Id" id="firstValue-@data.Id" /></td>
                                                                </tr>
                                                                index++;
                                                            }
                                                        }

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                @*<div class="row">
                                        <div class="col-sm-9"></div>
                                        <div class="col-sm-3 pull-right">
                                            <button data-toggle="tooltip" title="Refresh" class="btn btn-sm btn-info" onclick="Refresh('tblThirdPart')" id="btnRefreshTP" style="width:80px;">Refresh</button>&nbsp;&nbsp;
                                            <button data-toggle="tooltip" title="Save" class="btn btn-sm btn-success" onclick="SaveACRInfo(1, 'tblThirdPart')" id="btnSaveTP" style="width:80px;">Save</button>
                                        </div>
                                    </div>*@
                            </div>
                        </div>
                    </div>


                </div>


                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">
                            <h5 class="card-title" style="color: black;text-align:center;"><u>৪র্থ অংশ-কার্যসম্পাদন</u></h5>

                            <div class="container">
                                @*<form asp-area="ACREvaluation" asp-controller="ExecutiveOfficer" asp-action="Performance" method="post" data-parsley-validate="parsley">
                                    <div asp-validation-summary="All" class="text-danger"></div>*@
                                <div class="card" style="padding:2%;">
                                    <div class="row">
                                        <div class="col-12">

                                            <div>
                                                <table class="table table-bordered table-striped clsTblPerformance" id="tblPerformance" style="width:100%">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2" style="text-align:center;">মূল্যায়ণের বিষয়</th>
                                                            <th colspan="4">প্রাপ্ত মান</th>
                                                        </tr>
                                                        <tr>
                                                            <th style="width:15%">৪</th>
                                                            <th style="width:15%">৩</th>
                                                            <th style="width:15%">২</th>
                                                            <th style="width:15%">১</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        @{
                                                            int indexp = 0;
                                                            foreach (var data in Model.AcrEvaluationList.Where(x => x.acrTypeId == 2))
                                                            {
                                                                <tr>
                                                                    <td style="width:60%;"><input type="hidden" class="clsACREvaluationId" name="acrEvaluationNameId" value="@data.Id" /> @data.evaluationName<input type="hidden" id="acrId_@indexp" class="clsACRId" name="acrId" value="0" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgforthValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" />  <input type="radio" class="form-control clsForthValue" value="0" name="FP-@data.Id" id="forthValue-@data.Id" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgthirdValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" />  <input type="radio" class="form-control clsThirdValue" value="0" name="FP-@data.Id" id="thirdValue-@data.Id" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgsencondValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" /><input type="radio" class="form-control clsSecondValue" value="0" name="FP-@data.Id" id="sencondValue-@data.Id" /></td>
                                                                    <td style="width:10%;text-align:center;" class="p-0 m-0"><img id="imgfirstValue-@data.Id" ondblclick="fnShowInput(this,@data.Id)" src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:90px;height:40px;display:none;padding-right:0px;" />  <input type="radio" class="form-control clsFirstValue" value="0" name="FP-@data.Id" id="firstValue-@data.Id" /></td>
                                                                </tr>
                                                                indexp++;
                                                            }
                                                        }

                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>
                                    </div>

                                </div>


                                <br />
                                <table class="table table-bordered table-striped">
                                    <thead>
                                        <tr>
                                            <th rowspan="2">মোট প্রাপ্ত নম্বর</th>
                                            <th>অসাধারণ</th>
                                            <th>অত্যুত্তম</th>
                                            <th>উত্তম</th>
                                            <th>চলতি মান</th>
                                            <th>চলতি মানের নিম্নে</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                অংকে<span id="" class="float-right InitTotal" style="text-align:right">@Model.acrTotal?.TotalMarks?.ToString()</span>
                                                <input type="hidden" id="tMark" value="@Model.acrTotal?.TotalMarks?.ToString()" />
                                            </td>

                                            <td>৯৫-১০০</td>
                                            <td>৮৫-৯৪</td>
                                            <td>৬১-৮৪</td>
                                            <td>৪১-৬০</td>
                                            <td>৪০ ও তদনিম্নে</td>
                                        </tr>
                                        <tr>
                                            <td>কথায় <span id="inWord" class="float-right intInword" style="text-align:right"></span></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="row">
                                <div class="col-md-4">
                                    <label for="4thPartDate" style="font-size:15px;">&nbsp;&nbsp;&nbsp; তারিখ : </label>
                                    <label class="col-sm-8">
                                        <input type="text" class="form-control" name="4thPartDate" id="4thPartDate" value="@Model.AssessmentBasic?.recommendationDate?.ToString("dd/MM/yyyy")" readonly>
                                    </label>
                                </div>

                                <div class="col-md-4">

                                </div>
                                <div class="col-md-4">
                                    <img src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:100px;height:40px;" /><br />
                                    <span>@Model.AssessmentBasic?.recommendatorName</span>

                                    <hr style="padding:0px 0px 0px 0px;" />
                                    <span style="font-size:15px;">(প্রতিবেদনকারী কর্মকর্তার স্বাক্ষর) </span><br />
                                  
                                    <span style="font-size:15px;">পদবি : </span><span style="text-align:center">@Model.AssessmentBasic?.recommendatorDesig</span><br />
                                    <span style="font-size:15px;">পরিচিতি নং : </span><span style="text-align:center">@Model.AssessmentBasic?.recommendator</span><br />


                                </div>

                            </div>
                            <br />
                            @*<div>
                                    <<button data-toggle="tooltip" title="Save" class="btn btn-success btn-lg" onclick="SaveACRInfo(2, 'tblPerformance')" id="btnPFSave" style="float:right; margin-top:5px;"><i class="fas fa-save"></i></button>&nbsp;&nbsp;
                                    <button data-toggle="tooltip" title="Refresh" class="btn btn-info btn-lg" onclick="Refresh('tblPerformance')" style="float:right; margin-top:5px;"><i class="fas fa-sync-alt"></i></button>
                                </div>*@
                            <div class="row">
                                <div class="col-sm-9"></div>
                                <div class="col-sm-3 pull-right">
                                    @*<button class="btn btn-sm btn-info" onclick="Refresh('tblPerformance')" id="btnRefreshTP" style="width:80px;">Refresh</button>*@&nbsp;&nbsp;
                                    <button class="btn btn-sm btn-success" onclick="SaveACRInfo(2, 'tblPerformance')" id="btnPFSave" style="width:80px;">Save</button>

                                </div>
                            </div>
                        </div>
                    </div>


                </div>


            </div>

            @*<div class="tab-pane fade" id="nav-4thPart" role="tabpanel" aria-labelledby="nav-4thPart-tab">


                </div>*@

            <div class="tab-pane fade" id="nav-5thPart" role="tabpanel" aria-labelledby="nav-5thPart-tab">
                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">
                            <h5 class="card-title" style="color: black;text-align:center;"><u>৫ম অংশ-প্রতিবেদনাধীন কর্মকর্তা সম্পর্কে বিশেষ মন্তব্য</u></h5>
                            <label style="margin-left:550px;">(প্রতিবেদনকারী পূরণ করিবেন)</label>
                            <br />
                            <div class="container">
                                <form id="frmExecutiveOfficer5thPart" autocomplete="off" data-parsley-validate="parsley">
                                    <input type="hidden" id="assessmentId5thPart" name="assessmentId5thPart" value="@ViewBag.assessmentId" />
                                    <input type="hidden" id="hidEvaluator" name="evaluator" value="@ViewBag.Evaluator" />
                                    <div asp-validation-summary="All" class="text-danger"></div>

                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group row">

                                                <div class="col-sm-12">
                                                    <textarea class="form-control" name="specialRemarks" id="specialRemarks"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <hr>

                                    <div class="row">
                                        <div class="col-sm-10"></div>
                                        <div class="col-sm-2 pull-right">
                                            <button id="btnSave5thPart" type="submit" value="Submit" class="btn btn-success btn-sm" style="width:80px;">Save</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="tab-pane fade" id="nav-6thPart" role="tabpanel" aria-labelledby="nav-6thPart-tab">
                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">
                            <h5 class="card-title" style="color: black;text-align:center;"><u>৬ষ্ঠ অংশ-সুপারিশ</u></h5>
                            <label style="margin-left:428px;">(প্রতিবেদনকারী পূরণ করিবেন)</label>

                            <div class="container">

                                <form id="frmExecutiveOfficer6thPart" autocomplete="off" data-parsley-validate="parsley">
                                    <input type="hidden" id="assessmentId6thPart" name="assessmentId6thPart" value="@ViewBag.assessmentId" />
                                    <div asp-validation-summary="All" class="text-danger"></div>
                                    <div class="col-12">
                                        <div class="form-group row">
                                            <label for="roOffice" class="col-sm-10 col-form-label">১।&nbsp;&nbsp;&nbsp; সংক্ষিপ্ত মন্তব্য :</label>
                                            <div class="col-sm-2">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-1"></div>
                                        <div class="col-11">
                                            <div class="form-group row">
                                                <label for="eligibility" class="col-sm-4 col-form-label">(ক) বিশেষ প্রবণতা/যোগ্যতা (যথা : প্রশাসনিক/দাপ্তরিক/বহিরাঙ্গন/অন্যান্য) :</label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" name="specialComment6" id="specialComment6" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-1"></div>
                                        <div class="col-11">

                                            <div class="form-group row">
                                                <label for="roOffice" class="col-sm-10 col-form-label">(খ) সততা ও সুনাম :</label>

                                            </div>

                                            <div class="col-8" style="float:right;">
                                                <table class="table table-bordered table-striped" id="">
                                                    <tbody>
                                                        <tr>
                                                            <td class="TdWidth">(১) নৈতিক-</td>
                                                            @*<td class="TdWidth"><div class="custom-checkbox"><input type="checkbox" class="custom-checkbox" id="ckMoral" style="width:20px;height:20px;" /></div><input type="hidden" class="form-control" name="moralComment6" id="moralComment6" value="" /></td>*@
                                                            <td><input type="text" class="form-control" name="moralComment6" id="moralComment6" value="" /></td>
                                                        </tr>
                                                        <tr>
                                                            <td class="TdWidth">(২) বুদ্ধিবৃত্তিক-</td>
                                                            @*<td class="TdWidth"><div class="custom-checkbox"><input type="checkbox" class="custom-checkbox" id="ckIntellec" style="width:20px;height:20px;" /></div><input type="hidden" class="form-control" name="intellectualComment6" id="intellectualComment6" value="" /></td>*@
                                                            <td><input type="text" class="form-control" name="intellectualComment6" id="intellectualComment6" value="" /></td>
                                                        </tr>
                                                        <tr>
                                                            <td class="TdWidth">(৩) বৈষয়িক-</td>
                                                            @*<td class="TdWidth"><div class="custom-checkbox"><input type="checkbox" class="custom-checkbox" id="ckSub" style="width:20px;height:20px;" /></div><input type="hidden" class="form-control" name="subjectiveComment6" id="subjectiveComment6" value="" /></td>*@
                                                            <td><input type="text" class="form-control" name="subjectiveComment6" id="subjectiveComment6" value="" /></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col-1"></div>
                                        <div class="col-11">
                                            <div class="form-group row">
                                                <label for="recommendationTrainng" class="col-sm-4 col-form-label">(গ) চাকুরীকালীন প্রশিক্ষণের জন্য আরও সুপারিশ</label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" name="trainingComment6" id="trainingComment6" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <label for="roOffice" class="col-sm-10 col-form-label">২।&nbsp;&nbsp;&nbsp; পদোন্নতির যোগ্যতা (প্রযোজ্য ঘরে অনুস্বাক্ষর দিন, বাকীগুলো কাটিয়া দিন) :</label>
                                                <div class="col-sm-2">

                                                </div>
                                            </div>
                                        </div>
                                        @*<br /><br />*@
                                        <div class="col-2"></div>
                                        <div class="col-10">
                                            <table class="table table-bordered table-striped" id="">
                                                <tbody>
                                                    <tr>
                                                        <td style="width:30px;"><input type="radio" class="p-0 m-0 promotion" name="promotion" id="promotionable" onclick="PromotionValue(1)" style="width:24px;height:24px;text-align:right" /></td>
                                                        <td>(ক) পদোন্নতির যোগ্য</td>

                                                    </tr>
                                                    <tr>
                                                        <td style="width:30px;"><input type="radio" class="form-horizontal promotion" name="promotion" id="notPromotionable" onclick="PromotionValue(2)" style="width:24px;height:24px;text-align:right" /></td>
                                                        <td>(খ) পদোন্নতির যোগ্য হন নাই</td>

                                                    </tr>
                                                    <tr>
                                                        <td style="width:30px;"><input type="radio" class="form-horizontal promotion" name="promotion" id="highlyPerfomer" onclick="PromotionValue(3)" style="width:24px;height:24px;text-align:right" /></td>
                                                        <td>(গ) যোগ্যতার সর্বোচ্চ সীমায় পৌঁছিয়াছেন</td>

                                                    </tr>
                                                    <tr>
                                                        <td style="width:30px;"><input type="radio" class="form-horizontal promotion" name="promotion" id="recentlyPromoted" onclick="PromotionValue(4)" style="width:24px;height:24px;text-align:right" /></td>
                                                        <td>(ঘ) সম্প্রতি পদোন্নতিপ্রাপ্ত, পরবর্তী পদোন্নতি বিবেচনার সময় হয় নাই</td>

                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <input type="hidden" id="promotionalQualification" name="promotionalQualification" />
                                                <label for="othersRecommends" class="col-sm-4 col-form-label">৩।&nbsp;&nbsp;&nbsp; অন্যান্য সুপারিশ (যদি থাকে)</label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" name="othersRecommends6" id="othersRecommends6" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br />
                                    <br />
                                    <br />

                                    <div class="row">

                                        <div class="col-md-8">

                                        </div>
                                        <div class="col-md-4">
                                            <img src="/EmpImages/@Model.AssessmentBasic?.recomSign" style="width:100px;height:40px;" /><br />
                                            <span>@Model.AssessmentBasic?.recommendatorName</span>
                                            <hr style="padding:0px 0px 0px 0px;" />
                                            <span style="font-size:15px;">(প্রতিবেদনকারী কর্মকর্তার স্বাক্ষর ও নামসহ সীল) </span><br />
                                            <span style="font-size:15px;">পদবী : </span><span style="text-align:center">@Model.AssessmentBasic?.recommendatorDesig</span><br />
                                            <span style="font-size:15px;">পরিচিতি নং : </span><span style="text-align:center">@Model.AssessmentBasic?.recommendator</span><br />

                                            <div class="form-group row">
                                                <label for="reportDate" style="font-size:15px;">&nbsp;&nbsp;&nbsp; তারিখ : </label>
                                                <label class="col-sm-8">
                                                    <input type="text" class="form-control" name="reportDate" id="reportDate" value="@Model.AssessmentBasic?.recommendationDate" readonly>
                                                </label>
                                            </div>

                                        </div>

                                    </div>

                                    <hr>
                                    <div class="row">
                                        <div class="col-sm-10"></div>
                                        <div class="col-sm-2 pull-right">
                                            <button id="btnSave6thPart" type="submit" value="Submit" class="btn btn-success btn-sm" style="width:80px;">Save</button>
                                            &nbsp;
                                            <button id="btnSaveMdPart" type="submit" value="Submit" class="btn btn-success btn-sm d-none" style="width:80px;">Save.</button>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>
                    </div>



                </div>

            </div>

            <div class="tab-pane fade" id="nav-7thPart" role="tabpanel" aria-labelledby="nav-7thPart-tab">
                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">

                            @*<h5 class="card-title" style="color: black;text-align:center;"><u>৭ম অংশ-পরিমাণগত মূল্যায়ণ </u></h5>*@

                            <div class="container">
                                <form id="frmQuantitativeEvaluation" autocomplete="off" data-parsley-validate="parsley">
                                    <input type="hidden" id="qaassessmentId" name="qaassessmentId" value="@ViewBag.assessmentId" />
                                    <input type="hidden" id="evaluationType8" name="evaluationType8" />
                                    <div asp-validation-summary="All" class="text-danger"></div>
                                    @*<div class="row">
                                            <div class="col-12">
                                                <div class="form-group row">
                                                    <div style="text-align:justify">
                                                        <label>যার জন্য যে অংশ প্রযোজ্য তা পূরণ করতে হবে।(১) যে কোন সূচক/পরিমাপকের বিপরীতে সর্বোচ্চ অর্জনের হার হবে ১০০% এবং কমপক্ষে ০৫(পাঁচ)টি সূচক/পরিমাপকের বিপরীতে লক্ষ্যমাত্রা, অর্জন ও অর্জনের হার উল্লেখ করতে হবে- যা শাখা প্রধান/শাখা ব্যবস্থাপক(ব্রাঞ্চ ম্যানেজার) ব্যতিত শাখার অন্যান্য নির্বাহী/কর্মকর্তা, অঞ্চল প্রধান ব্যতিত আঞ্চলিক কার্যালয়ে কর্মরত অন্যান্য নির্বাহী/কর্মকর্তা, সার্কেল প্রধান ব্যতিত সার্কেল অফিসে কর্মরত অন্যান্য নির্বাহী/কর্মকর্তাগণের জন্য প্রযোজ্য হবে।</label>
                                                        <label>(২) শাখা প্রধান/শাখা ব্যবস্থাপকগণের জন্য অঞ্চল কর্তৃক প্রদত্ত লক্ষ্যমাত্রা এবং এর বিপরীতে প্রকৃত অর্জনের বিষয় লিপিবদ্ধ করতে হবে। উল্লেখ্য তাদের জন্য প্রযোজ্য সকল সূচক/পরিমাপকের বিপরীতে লক্ষ্যমাত্রা, অর্জন ও অর্জনের হার উল্লেখ করতে হবে। এডি শাখার জন্য ১২ টি সূচক/পরিমাপকের এবং এডি শাখা ব্যতিত ১০ টি সূচক/পরিমাপকের বিপরীতে লক্ষ্যমাত্রা, অর্জন ও অর্জনের হার উল্লেখ করতে হবে।</label>
                                                        <label>(৩) অঞ্চল প্রধানগণের জন্য সার্কেল কর্তৃক প্রদত্ত লক্ষ্যমাত্রা এবং এর বিপরীতে প্রকৃত অর্জনের বিষয় লিপিবদ্ধ করতে হবে। উল্লেখ্য তাদের জন্য প্রযোজ্য সকল সূচক/পরিমাপকের বিপরীতে লক্ষ্যমাত্রা, অর্জন ও অর্জনের হার উল্লেখ করতে হবে। অর্থাৎ ১২ টি সূচক/পরিমাপকের বিপরীতে লক্ষ্যমাত্রা, অর্জন ও অর্জনের হার উল্লেখ করতে হবে। </label>
                                                        <label>লক্ষ্যমাত্রা, অর্জন ও অর্জনের হারের স্বপক্ষে প্রত্যয়নপত্র সংযুক্ত করতে হবে এবং উক্ত প্রত্যয়ন পত্রে প্রতিবেদনকারী নির্বাহী/কর্মকর্তা ও প্রতিস্বাক্ষরকারী নির্বাহী/কর্মকর্তা সাক্ষর করবেন। অসত্য তথ্য প্রদান শাস্তিযোগ্য অপরাধ।</label>
                                                    </div>
                                                    <label class="col-sm-6 col-form-label">
                                                        <select id="headId" name="headId" class="form-control">
                                                            <option value="">পারফর্মেন্স  স্ট্যান্ডার্ড নির্বাচন করুন</option>
                                                            @foreach (var data in Model.heads)
                                                            {
                                                                <option value="@data.Id">@data.HeadName</option>
                                                            }
                                                        </select>
                                                    </label>
                                                    <div class="col-md-2"></div>
                                                    <label class="col-md-4 form-group row">
                                                        <span class="col-sm-4 col-form-label">পরিমাপক :</span>
                                                        <select name="acrCounter" id="acrCounter" class="col-sm-6 form-control">
                                                            <option value="1000">হাজার টাকা</option>
                                                            <option selected value="100000">লক্ষ টাকা</option>
                                                            <option value="10000000">কোটি টাকা</option>
                                                        </select>
                                                    </label>

                                                </div>
                                                <table class="table-bordered" id="tblQE">
                                                    <thead>
                                                        <tr>
                                                            <th rowspan="2" style="text-align:center">সূচক/পরিমাপক (Indicators)</th>
                                                            <th rowspan="2" style="text-align:center">লক্ষ্যমাত্রা (বাৎসরিক)</th>
                                                            <th colspan="2" style="text-align:center">প্রতিবেদনকারীর অংশ</th>
                                                            @if (@ViewBag.UserEmpCode == Model.AssessmentBasic.signatoryDesig)
                                                            {
                                                                <th colspan="2" style="text-align:center">প্রতিস্বাক্ষরকারীর অংশ </th>
                                                            }

                                                        </tr>
                                                        <tr>
                                                            <th style="text-align:center">অর্জন</th>
                                                            <th style="text-align:center">অর্জনের হার</th>
                                                            @if (@ViewBag.UserEmpCode == Model.AssessmentBasic.signatoryDesig)
                                                            {
                                                                <th style="text-align:center">অর্জন</th>
                                                                <th style="text-align:center">অর্জনের হার</th>
                                                            }


                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <td colspan="3" style="text-align:center">উত্তম = ৯০%+,ভালো = ৮০%+,মধ্যম = ৬০%+,গড়পড়তা =< ৬০% </td>
                                                            <td><input id="recomMarks" readonly style="text-align:right;width:90%" />%</td>
                                                            @if (ViewBag.UserEmpCode == Model.AssessmentBasic.signatoryDesig)
                                                            {
                                                                <td colspan="2"><input id="signMarks" readonly style="text-align:right;width:95%" />%</td>
                                                            }
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                            <div class="col-12"><br /></div>
                                            <div class="col-12" id="hideCommentHead">
                                                <div class="row">
                                                    <div class="col-8">
                                                        <div class="form-group row">
                                                            <label class="col-md-2" for="evaluationCommentsHeadId">মন্তব্য :</label>
                                                            <div class="col-md-10">
                                                                <select id="evaluationCommentsHeadId" name="evaluationCommentsHeadId" class="form-control">
                                                                    <option value="0" selected="selected">মন্তব্য নির্বাচন করুন</option>
                                                                    @foreach (var data in Model.commentsHead)
                                                                    {
                                                                        <option value="@data.Id">@data.commentsName</option>
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-4">
                                                        <div class="form-group row">
                                                            <label class="col-md-6" for="commentsMark">অর্জিত নম্বর :</label>
                                                            <div class="col-md-6">
                                                                <input type="number" name="commentsMark" id="commentsMark" class="form-control" readonly />

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <label>উপরে বর্ণিত তথ্যাবলী সঠিক ও নির্ভুল।</label>
                                            </div>

                                        </div>*@


                                    <hr>

                                    <div class="row">
                                        <div class="col-sm-10">

                                            @*<button type="button"  class="btn btn-info pull-right btn-sm" onclick="OpenTargetCertificate()">প্রত্যয়ন পত্র সংযুক্তি</button>*@
                                            <button type="button" id="viewdoc" class="btn btn-info pull-right btn-sm" onclick="OpenCertificateView()">সংযুক্তি দেখুন</button>

                                        </div>
                                        @*<div class="col-sm-2 pull-right">
                                                <button id="btnSave8thPart" type="submit" value="Submit" class="btn btn-success btn-sm" style="width:80px;">Save</button>
                                            </div>*@
                                    </div>

                                    <br />
                                    <hr />

                                    @if (Model.isHRAdmin > 0)
                                    {
                                        <div class="col-sm-9" style="float:left">
                                            <h6 class="card-title" style="color: black">প্রতিস্বাক্ষরকারী নির্বাচন করুন:</h6>
                                            <div class="form-group row" style="padding-bottom:0px;margin-bottom:0px;">
                                                <label class="col-sm-2 col-form-label">প্রতিস্বাক্ষরকারী<i style="color:red;padding-left:0px;padding-right:0px;">*</i></label>
                                                <div class="col-md-6">
                                                    <div class="input-group mb-3">
                                                        <input type="text" class="form-control" placeholder="পরিচিতি (আই ডি) নং" id="signEmpId" aria-label="Search" aria-describedby="basic-addon2" value="@Model.AssessmentBasic?.signatory">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-primary form-control" type="button" onclick="GetSignatoryNameByCode();" style="background-color:#69ae59"><i class="fa fa-search"></i></button>
                                                            <input type="hidden" id="signatory" name="signatory" value="@Model.AssessmentBasic?.signatory" />
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="form-group row">
                                                <label class="col-sm-2 col-form-label">নাম</label>
                                                <div class="col-md-6">
                                                    <input type="text" name="signEmpName" id="signEmpName" value="@Model.AssessmentBasic?.signatoryName" class="form-control" readonly />
                                                </div>
                                            </div>

                                            <div class="form-group row">
                                                <label class="col-sm-2 col-form-label">পদবী</label>
                                                <div class="col-md-6">
                                                    <input id="signDesig" class="form-control" value="@Model.AssessmentBasic?.signatoryDesig" readonly />
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    <div class="col-sm-3" style="float:right">
                                        <div class="form-group row">

                                            @*<input type="button" value="Print" id="btnFinalPrint" class="btn btn-info" style="width:100px;float:right" onclick="getPrint()" />&nbsp;&nbsp;*@
                                            <a href="javascript:void(0)" id="btnSaveForRecommander" class="btn btn-success" style="float:right;color:white">Submit</a>
                                        </div>
                                    </div>

                                </form>

                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="tab-pane fade" id="nav-8thPart" role="tabpanel" aria-labelledby="nav-8thPart-tab">
                <div class="row col-sm-12">
                    <div class="card" style="width: 100%;">
                        <div class="card-body">
                            <h5 class="card-title" style="color: black;text-align:center;"><u>৭ম অংশ-প্রতিস্বাক্ষরকারী কর্মকর্তার মন্তব্য</u></h5>
                            <br />
                            <div class="container">
                                <form id="frmExecutiveOfficer7thPart" autocomplete="off" data-parsley-validate="parsley">
                                    <input type="hidden" id="assessmentId7thPart" name="assessmentId7thPart" value="@ViewBag.assessmentId" />
                                    <input type="hidden" id="evaluationType7" name="evaluationType7" />
                                    <div asp-validation-summary="All" class="text-danger"></div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <label for="speaking" class="col-sm-4 col-form-label">আমি মনে করি যে, প্রতিবেদনকারীর মূল্যায়ণ</label>
                                                <div class="col-sm-8">
                                                    <input type="radio" class="form-horizontal evaluation" name="evaluation" id="excellent" checked onclick="EvaluationValue(1)">&nbsp;<label for="excellent" style="font-weight:normal;color:#606066;">অত্যুত্তম</label>&nbsp;&nbsp;
                                                    <input type="radio" class="form-horizontal evaluation" name="evaluation" id="logicalGood" onclick="EvaluationValue(2)">&nbsp;<label for="logicalGood" style="font-weight:normal;color:#606066;">যুক্তিসংগতভাবে উত্তম</label>&nbsp;&nbsp;
                                                    <input type="radio" class="form-horizontal evaluation" name="evaluation" id="strict" onclick="EvaluationValue(3)">&nbsp;<label for="strict" style="font-weight:normal;color:#606066;">কঠোর</label>&nbsp;&nbsp;
                                                    <input type="radio" class="form-horizontal evaluation" name="evaluation" id="flexible" onclick="EvaluationValue(4)">&nbsp;<label for="flexible" style="font-weight:normal;color:#606066;">নমনীয়</label>&nbsp;&nbsp;
                                                    <input type="radio" class="form-horizontal evaluation" name="evaluation" id="biased" onclick="EvaluationValue(5)">&nbsp;<label for="biased" style="font-weight:normal;color:#606066;">পক্ষপাতদুষ্ট</label>
                                                </div>

                                                <label for="employeeName" class="col-sm-4 col-form-label">অধিকন্তু নিম্নে আমার মন্তব্য যোগ করিতেছি : </label>
                                            </div>
                                        </div>
                                        <div class="col-12"><br /></div>
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <label for="generalRemarks" class="col-sm-4 col-form-label">(ক) মন্তব্য :</label>
                                                <div class="col-sm-8">
                                                    <textarea class="form-control" name="disAgreementComment7" id="disAgreementComment7" rows="3"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <label for="totalMarks" class="col-sm-4 col-form-label">(খ) সামগ্রিক মূল্যায়ণের ভিত্তিতে প্রদেয় মোট নম্বর (অংকে ও কথায়) :</label>
                                                <div class="col-sm-2">
                                                    <span>অংকে</span>
                                                    <input type="text" class="form-control" name="totalMarks" id="totalMarks">
                                                </div>
                                                <div class="col-sm-3">
                                                    <span>কথায়</span>
                                                    <input type="text" class="form-control" name="totalMarksInWord" id="totalMarksInWord" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br />
                                    <br />
                                    <br />
                                    <div class="row">

                                        <div class="col-md-8">

                                        </div>
                                        <div class="col-md-4">
                                            <img class="sigsign" src="/EmpImages/@Model.AssessmentBasic?.signatorySign" style="width:100px;height:40px;" /><br />
                                            <span>@Model.AssessmentBasic?.fsignatoryName</span>
                                            <hr style="padding:0px 0px 0px 0px;" />
                                            <span style="font-size:15px;">(প্রতিস্বাক্ষরকারী কর্মকর্তার স্বাক্ষর ও নামসহ সীল) </span><br />
                                            <span style="font-size:15px;">পদবি : </span><span style="text-align:center">@Model.AssessmentBasic?.fsignatoryDesig</span><br />
                                            <span style="font-size:15px;">পরিচিতি নং : </span><span style="text-align:center">@Model.AssessmentBasic?.Signatory2</span><br />

                                            <div class="form-group row">
                                                <label for="signDate" style="font-size:15px;">&nbsp;&nbsp;&nbsp; তারিখ : </label>
                                                <label class="col-sm-8">
                                                    <input type="text" class="form-control" name="signDate" id="signDate" value="@Model.AssessmentBasic?.signatoryDate" readonly>
                                                </label>
                                            </div>

                                        </div>

                                    </div>

                                    <hr>

                                    <div class="row">
                                        <div class="col-sm-9" style="background-color: white;"></div>
                                        <div class="col-sm-3 pull-right" style="background-color: white;">
                                            @*Asad Commented bellow button on 08.10.2023*@
                                            @*<button id="btnSave7thPartMD" type="submit" value="Submit" class="btn btn-success" style="width:80px;">Save</button>*@
                                            <button id="btnSave7thPart" type="submit" value="Submit" class="btn btn-success" style="width:80px;">Submit</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>

            </div>


        </div>
    </div>

    <div class="col-md-12 row" style="background-color: white;">
        <div class="col-sm-8" style="background-color: white;">

        </div>
        <div class="col-sm-4 offset-lg-10" style="background-color: white;">
            <br />
            <a class="prevtab btn btn-sm btn-secondary" id="btnPrevtab" href="#"><< Prev</a>
            <a class="nexttab btn btn-sm btn-danger" id="btnNexttab" href="#">Next >></a>
        </div>

    </div>

    <div style="height:10px;"></div>

</div>

<div class="modal fade bd-example-modal-xl" id="assessmentModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="form-group row">
                        প্রশিক্ষণের (দেশে/বিদেশে) বিবরণ ও সময়সীমা
                    </div>
                </div>
                <div class="card-body">
                    <table class="table table-bordered" id="tblEmployeeTraining">
                        <thead>
                            <tr>
                                <th rowspan="2">ক্রমিক নং</th>
                                <th rowspan="2">কোর্সের নাম</th>
                                <th colspan="2" style="text-align:center;">সময়কাল</th>
                                <th rowspan="2">প্রশিক্ষণ ইনিস্টিটিউটের নাম</th>
                                <th rowspan="2">দেশের নাম</th>
                                <th rowspan="2">মন্তব্য</th>
                                <th rowspan="2">ফলাফল</th>
                            </tr>
                            <tr>
                                <th>হতে </th>
                                <th>পর্যন্ত</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>

                    @*<div class="row">

                        </div>*@
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade bd-example-modal-xl" id="PostingModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="form-group row">
                        যোগদান পরবর্তী কর্মস্থল ও চাকুরীকালের বিবরণ (সর্বশেষ কর্মস্থল প্রথমে উল্লেখ করতে হবে)
                    </div>
                </div>
                <div class="card-body">
                    <table class="table table-bordered" id="">
                                <thead>
                                    <tr>
                                        <th rowspan="2">ক্রঃ নংঃ</th>
                                        <th rowspan="2">পদের নাম</th>
                                        <th rowspan="2">ব্রাঞ্চ/ডিপার্টমেন্ট/অফিসের নাম</th>
                                        <th colspan="2">চাকুরীকাল</th>
                                    </tr>
                                    <tr>
                                        <th>হইতে </th>
                                        <th>পর্যন্ত</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        int s = 0;
                                    }
                                    @foreach (var item in Model.empPostings)
                                    {
                                        s++;
                                        <tr>
                                            <td style="text-align:center">@OPUSERP.Helpers.EnglishToBanglaNumber.ConvertEnglishNumToBanglaNum(s.ToString(""))</td>
                                            <td>@item.designationNameBN</td>
                                            <td>@item.placeNameBn</td>
                                            <td>@item.startDate?.ToString("dd-MMM-yyyy")</td>
                                            <td>
                                                @if (item.endDate != null)
                                                {
                                                    <span>@item.endDate?.ToString("dd-MMM-yyyy")</span>
                                                }
                                                else
                                                {
                                                    <span>অদ্যবধি</span>
                                                }
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>




<div class="modal fade bd-example-modal-xl" id="attachmentModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <form>
                <div class="card">
                    <div class="card-header">
                        <div class="form-group row">
                            সংযুক্তি
                        </div>
                    </div>

                    <div class="card-body">

                        <div class="form-group row">
                            @*<label class="col-md-4 control-label">Attach Document <span style="color:red;">*</span></label>*@
                            <div class="col-md-6">
                                <input type="hidden" id="hiddensignature" />
                                <label for="signaturePath" class="custom-file-upload">
                                    Choose Document
                                </label>
                                <input type="hidden" id="hdnTargetDocs" />
                                <input type="file" title="search signature" id="targetDocs" name="targetDocs" class="btn btn-default btn-sm pull-right" />

                            </div>
                            <div class="col-md-6">
                                @*<label>Download File</label>*@
                                <a id="showTDocs" style="color:deepskyblue;font-weight:bold;" title="Download" target="_blank"></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnAttachment" class="btn btn-success" data-dismiss="modal">Save</button>&nbsp;&nbsp;
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade bd-example-modal-xl" id="CertificationModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="form-group row">
                        প্রত্যয়ন পত্র সংযুক্তি
                    </div>
                </div>
                <div class="card-body">

                    <div class="form-group row">
                        @*<label class="col-md-4 control-label">Attach Document <span style="color:red;">*</span></label>*@
                        <div class="col-md-6">
                            @*<input type="hidden" id="hiddenCertification" />*@
                            <label for="CertificationPath" class="custom-file-upload">
                                Choose Document
                            </label>
                            <input type="hidden" id="hdnCertification" />
                            <input type="file" title="search Certification" id="CertificationDocs" name="CertificationDocs" class="btn btn-default btn-sm pull-right" />

                        </div>
                        <div class="col-md-6">
                            <label>Download File</label>
                            <a id="showCertificationDocs" style="color:deepskyblue;font-weight:bold;" title="Download" target="_blank"></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnCertification" class="btn btn-success" data-dismiss="modal">Save</button>&nbsp;&nbsp;
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>

<div class="modal fade bd-example-modal-xl" id="CertificationViewModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="card">
                <div class="card-header">
                    <div class="form-group row">
                        প্রত্যয়ন পত্র সংযুক্তি
                    </div>
                </div>
                <div class="card-body">

                    <div class="card form-group row" id="imgShow" style="margin-left: 4px;">

                        @*<div class="card-header">
                                <h6 style="color: black">Attachments</h6>
                            </div>*@
                        <div class="row card-body" id="dtAttachment">

                            <div class="row" id="divPanel1" style="margin-left:38%">


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts{
    <script>
        $(document).ready(function () {
            var modeldata=@Model.empCode
            var userNameData="@ViewBag.UserName"
            
            if (modeldata != userNameData) {   
                $('#goalAchievement').attr('readonly', 'readonly');
                //Asad Commented On 27.09.2023
                //$('input[type="text"], textarea').attr('readonly', 'readonly');
            }                            
        });

        function isValidTab() {

            var evaluator = $('#hidEvaluator').val();
            //var hidStatusInfoId = $('#hidStatusInfoId').val();            
            var thirdTabActive = $('#nav-3rdPart-tab').hasClass('active');
            var fifthTabActive = $('#nav-5thPart-tab').hasClass('active');
            var sixthTabActive = $('#nav-6thPart-tab').hasClass('active');
            var seventhTabActive = $('#nav-7thPart-tab').hasClass('active');
            var eighthTabActive = $('#nnav-8thPart-tab').hasClass('active');

            var message = '';
           
            if (thirdTabActive == true) {
                
                message = isThirdTabValid(evaluator);
            }

            if (fifthTabActive == true) {
                message = isFifthTabValid(evaluator);
            }

            if (sixthTabActive == true) {
                message = isSixthTabValid(evaluator);
            }
            return message;
        }

        function isThirdTabValid(evaluator) {
                                    
            var message = '';
            var className = 'clsTblPerformance';
            var length = $("." + className).find('tbody').find('tr').length;

            var counter = 0;
                        
            $("." + className).find('tbody').find('tr').each(function () {
                        
                var firstValue = $(this).find(".clsFirstValue").val();
                var sencondValue = $(this).find(".clsSecondValue").val();
                var thirdValue = $(this).find(".clsThirdValue").val();
                var forthValue = $(this).find(".clsForthValue").val();
                
                if (firstValue == true || sencondValue == true || thirdValue == true || forthValue == true) {
                    counter = counter + 1;
                }
            });
            
            if (length != counter) {
                message = 'ব্যক্তিগত বৈশিষ্ট্য - কার্য সম্পাদনে মূল্যায়ণ নির্বাচন করুন';
            }
            return message;
        }
                
        function isFifthTabValid(evaluator) {
            
            var message = '';
            var specialRemarks = $('#specialRemarks').val();
            if (specialRemarks == '') {
                message = 'Please Enter Special Remarks';
            }
            return message;
        }

        function isSixthTabValid(evaluator) {
            
            var message = '';

            var specialComment6 = $('#specialComment6').val(); 
            var moralComment6 = $('#moralComment6').val(); 
            var intellectualComment6 = $('#intellectualComment6').val(); 
            var subjectiveComment6 = $('#subjectiveComment6').val(); 
            var trainingComment6 = $('#trainingComment6').val(); 
            var promotion =  $("input[type='radio'][name='promotion']:checked").length;  
            
            if (specialComment6 == '') {
                message = 'বিশেষ প্রবণতা/যোগ্যতার ঘরে লিখুন';
            }
            else if (moralComment6 == '') {
                message = ' নৈতিক সততা ও সুনামের ঘরে লিখুন';
            }
            else if (intellectualComment6 == '') {
                message = 'বুদ্ধিবৃত্তিক সততা ও সুনামের ঘরে লিখুন';
            }
            else if (subjectiveComment6 == '') {
                message = 'বৈষয়িক সততা ও সুনামের ঘরে লিখুন';
            }
            else if (trainingComment6 == '') {
                message = 'চাকুরীকালীন প্রশিক্ষণের জন্য আরও সুপারিশের ঘরে লিখুন';
            }
            else if(promotion == 0){
                    message = 'পদোন্নতির যোগ্যতা নির্বাচন করুন';
                }
            return message;
        }
               
        function isSeventhTabValid(evaluator) {
            
            var message = '';
                        
            var evaluation =  $("input[type='radio'][name='evaluation']:checked").length;  
            var disAgreementComment7 = $('#disAgreementComment7').val(); 
            var totalMarks = $('#totalMarks').val(); 
           
            if(evaluation == 0){
                message = 'প্রতিবেদনকারীর মূল্যায়ণ নির্বাচন করুন';
            }
            else if (disAgreementComment7 == '') {
                message = 'মন্তব্য লিখুন';
            }
            else if (totalMarks == '') {
                message = 'নম্বর লিখুন';
            }
                        
            return message;
        }

        //--------------------------



        function bootstrapTabControl(){
			var i, items = $('#tabs .nav-link'), pane = $('#tabs .tab-pane');
			console.log(items)
            // next
            $('.nexttab').on('click', function () {

                //Asad Added On 02.10.2023
                var activeTab = -1;

                for(i = 0; i < items.length; i++){
					if ($(items[i]).hasClass('active') == true) {
                        activeTab = activeTab + 1;  //Asad Added On 02.10.2023
                        break;
                    }
                }
				
                //Asad Added On 02.10.2023
                var message = isValidTab(activeTab);
                
                if(message != ''){
                    swal("Attention!", message, "warning");
                }
                else
                {
                                   
                if (i < items.length - 1) {

                    if (i == 1 && '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.empCode') {

						// for tab
						$(items[i]).removeClass('active');
						$(items[i + 1]).addClass('active');
						// for pane
						$(pane[i]).removeClass('show active');
						$(pane[i + 1]).addClass('show active');
                        return false;
                    }
                    else if (i == 5 && '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.recommendator') {
                        return false;
                    }
                    if (i == 0 && '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.empCode') {

						$('#btnPrevtab').hide();
                        $('#btnNexttab').hide();
                    }
                    else if (i == 0 && ('@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.recommendator' || '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.signatory')) {
						$('#btnPrevtab').show();
                    }
                    else if (i == 4 && '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.recommendator') {
						$('#btnPrevtab').show();
						$('#btnNexttab').hide();
                    }
                    else if (i == 5 && '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.signatory') {
						$('#btnPrevtab').show();
						$('#btnNexttab').hide();
                    }
                    else if (i == 5 && '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.Signatory2') {
						                    $('#btnPrevtab').show();
						                    $('#btnNexttab').hide();
                         }

                    else {

					}
                    // for tab
                    $(items[i]).removeClass('active');
                    $(items[i+1]).addClass('active');
                    // for pane
                    $(pane[i]).removeClass('show active');
                    $(pane[i+1]).addClass('show active');

                    }
                }

            });
            // Prev
            $('.prevtab').on('click', function(){
                for(i = 0; i < items.length; i++){
                    if($(items[i]).hasClass('active') == true){
                        break;
                    }
                }
                if(i==1){
                    if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.empCode'){
                        $('#btnPrevtab').hide();
                    }

                    $('#btnNexttab').show();
                }else if(i>1 ){
                    $('#btnNexttab').show();
                }
                if(i != 0){
                    // for tab
                    $(items[i]).removeClass('active');
                    $(items[i-1]).addClass('active');
                    // for pane
                    $(pane[i]).removeClass('show active');
                    $(pane[i-1]).addClass('show active');
                }else{
                    if('@ViewBag.UserEmpCode'!='@Model.AssessmentBasic?.empCode'){
                        window.location.href = '@Url.Action("Authority", "AssessmentInfo")';
                    }
                }
            });
        }

        bootstrapTabControl();

        function SumBasicTotal(){

            var sumForthVal = 0;
            $(".clsForthValue").each(function () {
                var fval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(fval>1){fval=1};
                sumForthVal += fval;
            });

            var sumTrdVal = 0;
            $(".clsThirdValue").each(function () {
                var tval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(tval>1){tval=1};
                sumTrdVal += tval;
            });

            var sumScndVal = 0;
            $(".clsSecondValue").each(function () {
                var sval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(sval>1){sval=1};
                sumScndVal += sval;
            });

            var sumFirstVal = 0;
            $(".clsFirstValue").each(function () {
                var fval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(fval>1){fval=1};
                sumFirstVal += fval;
            });
            var total = sumFirstVal + (sumScndVal * 2) + (sumTrdVal * 3) + (sumForthVal * 4);

            if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.recommendator'){
                $('#total').html(total);
                $('.InitTotal').html(total);
                //alert("total")
                //alert(total)
                //var am2word = GetAmountInWord(total);
                $('#inword').html(total);

                GetAmountInWord(total);
            }

             else if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory'){
                //$('#total').html(total);
                $('.InitTotal').html(total);
                //alert("total")
                //alert(total)
                GetAmountInWord(total);

                $('#totalMarks').val(total);
                GetAmountInWordSign(total);
            }

            else {
                $('#totalMarks').val(total);
                GetAmountInWordSign(total);
            }

        }

        function PromotionValue(value)
        {
            $("#promotionalQualification").val(value);
        }
        function EvaluationValue(value) {
            $("#evaluationType7").val(value);
        }

        //৩য় অংশ-ব্যক্তিগত বৈশিষ্ট্য: প্রতিবেদনকারী অনুস্বাক্ষর দ্বারা পূরণ করিবেন
        function SaveACRInfo(acrTypeId,tableName) {
            if ($("#EmpCode").val() == '') {
                swal("Attention!", "Invalid Attempt!!!", "warning");
                return false;
            }

            //Asad Added on 03.10.2023
            var evaluator = $('#hidEvaluator').val();
            var message = isThirdTabValid(evaluator);

            if(message != ''){
                swal("Attention!", message, "warning");
                return false;
            }
                

            //Asad Commented On 03.10.2023
            //var trval=0;
            //$(".clsTblPerformance tbody>tr").each(function () {
            //    trval=0;
            //    $(this).find("input:radio").each(function() {
            //        var textVal = parseInt(this.value)?parseInt(this.value):0;
            //        trval+=trval+textVal;
            //    });
            //    if(trval<1){
            //        trval=5000
            //        return false;
            //    }
            //});
            //if(trval==5000){
            //    swal('Please entered all field');
            //    return false;
            //}


            var EmployeesAcr = [];
            let Id;
            let acrEvaluationNameId;
            let firstValue;
            let sencondValue;
            let thirdValue;
            let forthValue;
            if ($(".clsTblPerformance tbody>tr").length > 0) {
                $(".clsTblPerformance tbody>tr").each(function () {

                    EmployeesAcr.push({
                        Id:$(this).find(".clsACRId").val(),
                        acrEvaluationNameId: $(this).find(".clsACREvaluationId").val(),
                        firstValue: $(this).find(".clsFirstValue").val(),
                        sencondValue: $(this).find(".clsSecondValue").val(),
                        thirdValue: $(this).find(".clsThirdValue").val(),
                        forthValue: $(this).find(".clsForthValue").val()

                    });
                })
                swal({title: 'Are you sure?',text: "You want to save this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, save it!'
                }).then(function () {
                    $.ajax({
                        type: 'POST',
                        contentType: "application/json; charset=utf-8",
                        url: '@Url.Action("SaveExecutiveOfficerInfo", "ExecutiveOfficer")',
                        data: JSON.stringify({
                            assessmentId: $("#assessmentId").val(),
                            empCode: $("#EmpCode").val(),
                            actionType: acrTypeId,
                            EmployeesAcr: EmployeesAcr
                        }),
                        dataType: 'json',
                        success: function (data) {
                            swal("Success!!", "Saved Successfully!", "success");
                            //if(acrTypeId==1){
                            Common.Ajax('GET', '@Url.Action("GetEmployeeACRDetailsInfo", "ExecutiveOfficer")?id=' + @Model.assessmentId + '&acrTypeId=' + 1, [], 'json', GetDGMACRInfo, false);
                            //}else{
                            Common.Ajax('GET', '@Url.Action("GetEmployeeACRDetailsInfo", "ExecutiveOfficer")?id=' + @Model.assessmentId + '&acrTypeId=' + 2, [], 'json', GetDGMACRPerformanceInfo, false);
                            //}

                            //Refresh(tableName);
                        }
                    })
                })

            }
        }

        function fnForSignatory(){

            if(@ViewBag.UserTypeId==6 || @ViewBag.UserTypeId==1){
                $('#nav-7thPart').removeClass('active');
                $('#nav-1stPart').addClass('active');
            }

        }

        function fnQAPercent(id){
            var target= parseFloat($('#target_'+id).val())?parseFloat($('#target_'+id).val()):0;
            var achievement= parseFloat($('#achievement_'+id).val())?parseFloat($('#achievement_'+id).val()):0;
            var achievePercent=parseInt((achievement/target)*100);
            if(achievePercent>100){
                achievePercent=100;
            }else{

            }
            $('#achievementPercent_'+id).val(achievePercent).number(true,0);
            AchievRecomAvg();
        }

        function fnQAPercentSign(id){
            var target= parseFloat($('#target_'+id).val())?parseFloat($('#target_'+id).val()):0;
            var achievement= parseFloat($('#achievementSign_'+id).val())?parseFloat($('#achievementSign_'+id).val()):0;
            var achievePercent=parseInt((achievement/target)*100);
            if(achievePercent>100){
                achievePercent=100;
            }else{

            }
            $('#achievementPercentSign_'+id).val(achievePercent).number(true,0);
            AchievSignAvg();
        }

        function AchievRecomAvg(){
            var count=0;
            $('input[name="achievement"]').each(function() {
                var achive = parseInt($(this).val())?parseInt($(this).val()):0;
                if(achive>0){
                    count=count+1;
                }
            })

            var avg=0;
            $('input[name="achievementPercent"]').each(function() {
                var percent = parseFloat($(this).val())?parseFloat($(this).val()):0;
                avg=avg+percent;
            })
            var achPercent=  avg/count;
            $('#recomMarks').val(achPercent).number(true,2);
        }

        function AchievSignAvg(){
            var count=0;
            $('input[name="achievementSign"]').each(function() {
                var achive = parseInt($(this).val())?parseInt($(this).val()):0;
                if(achive>0){
                    count=count+1;
                }
            })

            var avg=0;
            $('input[name="achievementPercentSign"]').each(function() {
                var percent = parseFloat($(this).val())?parseFloat($(this).val()):0;
                avg=avg+percent;
            })
            var achPercent=  avg/count;

            $('#signMarks').val(achPercent).number(true,2);
        }

        function OpenTargetDocs(){
            $('#attachmentModal').modal('show');
            var assId=@Model.assessmentId;
            $.ajax({
                url: '@Url.Action("GetTargetAchiveDocsCertification", "ExecutiveOfficer")',
                data: {assesId: assId},
                type: 'Get',
                success: function (result) {
                  
                    if(result!=null){
                        var fileName = result ?.attachmentpath?.split('/')[3];
                        $('#targetDocs').attr("value",fileName);
                        $('#hdnTargetDocs').val(result.attachmentpath);
                        $('#hdnTargetDocs').text(result.attachmentpath);
                        $('#showTDocs').attr('href', BaseUrl + result.attachmentpath);
                        $('#showTDocs').html(fileName);
                    }else{
                        $('#showTDocs').hide();
                    }
                },
                error: function () {
                    alert("Fail to Submit");
                }
            });
        }

        function OpenTargetCertificate(){
            $('#CertificationModal').modal('show');
            var assId=@Model.assessmentId;
            $.ajax({
                url: '@Url.Action("GetTargetAchiveDocsCertification", "ExecutiveOfficer")',
                data: {assesId: assId},
                type: 'Get',
                success: function (result) {
                    //alert(result)
                    if(result!=null){
                        var fileName=result?.attachmentpath?.split('/')[3];
                        $('#CertificationDocs').attr("value",fileName);
                        $('#hdnCertification').val(result.attachmentpath);
                        $('#hdnCertification').text(result.attachmentpath);
                        $('#showCertificationDocs').attr('href',BaseUrl+result.attachmentpath);
                        $('#showCertificationDocs').html(fileName);
                    }else{
                        $('#showCertificationDocs').hide();
                    }
                },
                error: function () {
                    alert("Fail to Submit");
                }
            });
        }

		function convertEnToBnNum(num) {
			var en = "0123456789";
			var bn = "০১২৩৪৫৬৭৮৯";
			var result = "";
			for (var i = 0; i < num.length; i++) {
				var index = en.indexOf(num[i]);
				var bnNum = bn[index];
				result += bnNum;
			}
			return result;
		}

		function ajaxChildren(response) {
			var data = convertEnToBnNum(response.childCount.toString());
			$('#noOfSons').val(data);
		}

        $(document).ready(function () {
            $('#viewdoc').hide();
			Common.Ajax('GET', '/HRPMSACR/ExecutiveOfficer/GetEmployeeInfoByEmpCode?id=@Model.assessmentId', [], 'json', GetDGMEmployeeInfo, false);
			Common.Ajax('GET', '/HRPMSACR/ExecutiveOfficer/GetChildrenNoByAssId?id=@Model.assessmentId', [], 'json', ajaxChildren, false);
            if (@Model.AssessmentBasic?.statusInfoId> 1) {
                writeData();
                ////$('#btnSave1stPart').hide();
                //$('#btnRefreshTP').hide();
                //$('#btnSaveTP').hide();
                //$('#btnSave8thPart').hide();

                //$('#btnSave5thPart').prop('disabled', true);
            }


			if ($('#recomEmpId').val() != '') {
				GetRecommendatorNameByCode();
			}
            $("#signaturePath").change(function () {
                var fileSize = (this.files[0].size);
                var file = this.files[0];
                var fileType = file["type"];
                //var validImageTypes = ["image/gif", "image/jpeg", "image/png"];
                //if ($.inArray(fileType, validImageTypes) < 0) {
                //    swal('Attention!', 'Uploaded signature must be a image type!', 'warning');
                //    return false;
                //} else if (fileSize > 20000) {
                //    swal('Attention!', 'Signature size must be less then or equal 20kb.', 'warning');
                //    return false;
                //}
                readSignatureURL(this);
                uploadSignatureFile();
            });

            $("#totalMarks").change(function () {
                var marks = $("#totalMarks").val();
                GetAmountInWordSign(marks);
            });


            $("#btnAttachment").click(function () {
                SaveAttachment();
            });

            $("#btnCertification").click(function () {
                SaveCertificate();
            });


            $('#hideCommentHead').hide();
            $('#headId').change(function(){
                var thisVal=parseInt($(this).val())?parseInt($(this).val()):0;
                if(thisVal==7)
                {
                    $('#hideCommentHead').show();
                }
                else{
                    $('#hideCommentHead').hide();
                }
            });

            //$('.sigsign').hide();
            if(@Model.AssessmentBasic?.statusInfoId==3)
            {
                $('.sigsign').show();
            }

            if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.empCode'){
                $('#btnPrevtab').hide();
            }
        


            Common.Ajax('GET', '@Url.Action("GetUsersProfile", "Officer")?id=' + @Model.assessmentId, [], 'json', GetUsersProfileR, false);
            $('#headId').change(function(){
                $("#tblQE tbody>tr").remove();
                var headId=$(this).val();
                //alert(headId)
                $.ajax({
                    url: '@Url.Action("GetACRIndicatorByHeadId", "ExecutiveOfficer")',
                    data: {headId:headId,assessmentId:@Model.assessmentId},
                    type: 'GET',
                    success: function (response) {
                        $.each(response, function (key, value) {
                            var index = $("#tblQE tbody>tr").length;
                            var dtTable = $("#tblQE");
                            var tableBody = dtTable.find('tbody');
                            if('@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.signatoryDesig'){
                                var trHtml = '<tr id=' + index + '>' +
                                                '<td>' + value.indicatorNameBn + '<input type="hidden" name="aCRIndicatorId" value="'+value.indicatorId+'" /><input type="hidden" id="qaId_'+value.indicatorId+'" name="qaId" value="'+value.evaluationId+'" /></td>' +
                                                '<td><input class="money clsTarget" name="target" id="target_'+value.indicatorId+'" value="'+value.target+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                                '<td><input class="money clsAchievement" name="achievement" onclick="fnAchivmentAvg()" id="achievement_'+value.indicatorId+'" value="'+value.achievement+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                                '<td><input class="money clsIndicate_'+value.indicatorId+'" name="achievementPercent" id="achievementPercent_'+value.indicatorId+'" value="'+value.achievementPercent+'"  style="padding-left:0px;padding-right:2px;text-align:right;width:90%" readonly />%</td>' +
                                                '<td><input class="money clsAchievementSign" name="achievementSign" id="achievementSign_'+value.indicatorId+'" value="'+value.achievementSign+'" onkeyup="fnQAPercentSign('+value.indicatorId+')" style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                                '<td><input class="money clsIndicate_'+value.indicatorId+'" name="achievementPercentSign" id="achievementPercentSign_'+value.indicatorId+'" value="'+value.achievementPercentSign+'"  style="padding-left:0px;padding-right:2px;text-align:right;width:90%" readonly />%</td>' +
                                             '</tr>';
                                tableBody.append(trHtml);

                            }else{
                                var trHtml = '<tr id=' + index + '>' +
                                                '<td>' + value.indicatorNameBn + '<input type="hidden" name="aCRIndicatorId" value="'+value.indicatorId+'" /><input type="hidden" id="qaId_'+value.indicatorId+'" name="qaId" value="'+value.evaluationId+'" /></td>' +
                                                '<td><input class="money clsTarget" name="target" id="target_'+value.indicatorId+'" value="'+value.target+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                                '<td><input class="money clsAchievement" name="achievement" id="achievement_'+value.indicatorId+'" value="'+value.achievement+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                                '<td><input class="money clsIndicate_'+value.indicatorId+'" name="achievementPercent" id="achievementPercent_'+value.indicatorId+'" value="'+value.achievementPercent+'" style="padding-left:0px;padding-right:2px;text-align:right;width:90%" readonly />%</td>' +
                                             '</tr>';
                                tableBody.append(trHtml);
                            }

                        })
                    },
                    error: function () {
                        alert("Fail to save");
                    }
                });

            });


            $('#nav-7thPart-tab').click(function(event){
                if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.recommendator'){
                    return true;
                }else if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.signatory'){
                    return true;
                }else{
                    return false;
                }
            });

            $('#nav-8thPart-tab').click(function(event){
                if('@ViewBag.UserEmpCode' !='@Model.AssessmentBasic?.signatory'){
                    return false;
                }
            });
            $('#nav-6thPart-tab').click(function(event){
                if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.recommendator'){
                    return true;
                }else if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.signatory'){
                    return true;
                }else{
                    return false;
                }
            });
            $('#nav-5thPart-tab').click(function(event){
                if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.recommendator'){
                    return true;
                }else if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.signatory'){
                    return true;
                }else{
                    return false;
                }
            });
            $('#nav-4thPart-tab').click(function(event){
                if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.recommendator'){
                    return true;
                }else if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.signatory'){
                    return true;
                }else{
                    return false;
                }
            });
            $('#nav-3rdPart-tab').click(function(event){
                if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.recommendator'){
                    return true;
                }else if('@ViewBag.UserEmpCode' =='@Model.AssessmentBasic?.signatory'){
                    return true;
                }else{
                    return false;
                }
            });

            @*if('@Model.AssessmentBasic?.assessmentDate'==null){
                $("#bioSubmitDate").datepicker({ dateFormat: "dd-M-yy", showAnim: "scale", changeMonth: true, changeYear: true, yearRange: "2010:2030" }).datepicker("setDate", new Date());
            }else{
                $("#bioSubmitDate").val('@DateTime.Now.ToString("dd-MMM-yyyy")');
            }*@

            if('@Model.AssessmentBasic?.recommendationDate'==''){
                $("#4thPartDate").datepicker({ dateFormat: "dd-M-yy", showAnim: "scale", changeMonth: true, changeYear: true, yearRange: "2010:2030" }).datepicker("setDate", new Date());
                $("#reportDate").datepicker({ dateFormat: "dd-M-yy", showAnim: "scale", changeMonth: true, changeYear: true, yearRange: "2010:2030" }).datepicker("setDate", new Date());
            }else{
                $("#4thPartDate").val('@Model.AssessmentBasic?.recommendationDate?.ToString("dd-MMM-yyyy")');
                $("#reportDate").val('@Model.AssessmentBasic?.recommendationDate?.ToString("dd-MMM-yyyy")');
            }

            if('@Model.AssessmentBasic?.signatoryDate'==''){
                $("#signDate").datepicker({ dateFormat: "dd-M-yy", showAnim: "scale", changeMonth: true, changeYear: true, yearRange: "2010:2030" }).datepicker("setDate", new Date());
            }else{
                $("#signDate").val('@Model.AssessmentBasic?.signatoryDate?.ToString("dd-MMM-yyyy")');
            }

            //$("#reportDate").datepicker({ dateFormat: "dd-M-yy", showAnim: "scale", changeMonth: true, changeYear: true, yearRange: "2010:2030" });
            //$("#signDate").datepicker({ dateFormat: "dd-M-yy", showAnim: "scale", changeMonth: true, changeYear: true, yearRange: "2010:2030" });


            var statusId=parseInt('@Model.AssessmentBasic?.statusInfoId')?parseInt('@Model.AssessmentBasic?.statusInfoId'):0;
            if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.empCode'){

                $('#btnSaveMdPart').hide();

                if(statusId>1){
                    $('#btn2ndSave').prop('disabled',true);
                    $('#btnPrint').hide();

                }
                else{
                    $('#btn2ndSave').prop('disabled',false);
                    $('#btnPrint').show();
                }
            }
            else if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.recommendator'){
                $('#btn2ndSave').prop('disabled',true);
                //$('#btnSignPrint').hide();
                $('.clsACHSIGN').css('display','none');
                //$('#recomEmpId').prop('disabled',true);
                $('#SongjuktiSave').hide();
                $('#btnAttachment').hide();
                $('#btnSaveMdPart').hide();
                $('#btnPrint').hide();
                $('#viewdoc').show();
            }
            else if ('@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.signatory' || '@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.Signatory2') {
                   
                $('.clsACHSIGN').css('display','block');
                $('#btn2ndSave').prop('disabled',true);
                $('#btnSaveForRecommander').hide(); /*hide hbe*/
                $('#btnPFSave').hide(); 
                              
                $('#signEmpId').prop('disabled',true);

                $('#btnSave5thPart').prop('disabled', true);
                $('#btnSave8thPart').hide();
                $('#btnSave6thPart').hide();
                $('#btnAttachment').hide();
                $('#SongjuktiSave').hide();
                $('#btnPrint').hide();
                
                $('#viewdoc').show();
                $('#btnSaveMdPart').show();
                $('#btnSave5thPart').show();
                
                //Asad 03.10.2023
                $('#specialRemarks').prop('disabled', true);
                $('#specialComment6').prop('disabled', true);
                $('#moralComment6').prop('disabled', true);
                $('#intellectualComment6').prop('disabled', true);
                $('#subjectiveComment6').prop('disabled', true);
                $('#trainingComment6').prop('disabled', true);
                $('#othersRecommends6').prop('disabled', true);
                $(".promotion").prop("disabled", true);
                                                
                $(".clsForthValue").prop("disabled", true);
                $(".clsThirdValue").prop("disabled", true);
                $(".clsSecondValue").prop("disabled", true);
                $(".clsFirstValue").prop("disabled", true);

                if(statusId == 5 || statusId == 7){
                    $('.evaluation').prop('disabled', true);
                    $('#disAgreementComment7').prop('disabled', true);
                    $('#totalMarks').prop('disabled', true);                    
                }
            }

            //৫ম অংশ-প্রতিবেদনাধীন কর্মকর্তা সম্পর্কে বিশেষ মন্তব্য
            $("#btnSave5thPart").click(function (e) {
                e.preventDefault();

                var evaluator = $('#hidEvaluator').val();
                var message = isFifthTabValid(evaluator);

                if(message != ''){
                    swal("Attention!", message, "warning");
                    return false;
                }
                


                var form = $("#frmExecutiveOfficer5thPart");
                swal({title: 'Are you sure?',text: "You want to save this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, save it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("SaveExecutiveOfficer5thPart", "ExecutiveOfficer")',
                        data: form.serialize(),
                        type: 'POST',
                        success: function (records) {
                            swal('Success!','Data Saved Successfully.','success')
                        },
                        error: function () {
                            alert("Fail to save");
                        }
                    });
                })
            });

            $("#btnSave6thPart").click(function (e) {
                e.preventDefault();

                var evaluator = $('#hidEvaluator').val();
                var message = isSixthTabValid(evaluator);

                if(message != ''){
                    swal("Attention!", message, "warning");
                    return false;
                }

                var form = $("#frmExecutiveOfficer6thPart");
                swal({title: 'Are you sure?',text: "You want to save this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, save it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("SaveExecutiveOfficer6thPart", "ExecutiveOfficer")',
                        data: form.serialize(),
                        type: 'POST',
                        success: function (records) {
                            swal('Success!','Data Saved Successfully.','success');
                        },
                        error: function () {
                            alert("Fail to save");
                        }
                    });
                })
            });

            $("#btnSaveMdPart").click(function (e) {

                e.preventDefault();
                var form = $("#frmExecutiveOfficer6thPart");
                swal({title: 'Are you sure?',text: "You want to save this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, save it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("SaveMdChange", "ExecutiveOfficer")',
                        data: form.serialize(),
                        type: 'POST',
                        success: function (records) {
                            swal('Success!','Data Saved Successfully.','success');
                        },
                        error: function () {
                            alert("Fail to save");
                        }
                    });
                })
            });

            //৭ম অংশ-প্রতিস্বাক্ষরকারী কর্মকর্তার মন্তব্য
            //btnSave7thPartMD
            $("#btnSave7thPart").click(function (e) {
                e.preventDefault();

                var evaluator = $('#hidEvaluator').val();
				var message = isSeventhTabValid(evaluator);

				if(message != ''){
					swal("Attention!", message, "warning");
					return false;
				}

                var form = $("#frmExecutiveOfficer7thPart");
                swal({title: 'Are you sure?',text: "You want to save this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, save it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("SaveExecutiveOfficer7thPart", "ExecutiveOfficer")',
                        data: form.serialize(),
                        type: 'POST',
                        success: function (records) {
                            swal('Success!','Data Saved Successfully.','success');
                            window.location.href = '@Url.Action("Authority", "AssessmentInfo")';
                        },
                        error: function () {
                            alert("Fail to save");
                        }
                    });
                })

            });

            $("#btnSave7thPartMD").click(function (e) {
                e.preventDefault();

                var evaluator = $('#hidEvaluator').val();
				var message = isSeventhTabValid(evaluator);

				if(message != ''){
					swal("Attention!", message, "warning");
					return false;
				}

                var form = $("#frmExecutiveOfficer7thPart");
                swal({title: 'Are you sure?',text: "You want to save this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, save it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("SaveExecutiveOfficer7thPartForMD", "ExecutiveOfficer")',
                        data: form.serialize(),
                        type: 'POST',
                        success: function (records) {
                            swal('Success!','Data Saved Successfully.','success');
                        },
                        error: function () {
                            alert("Fail to save");
                        }
                    });
                })

            });

            $("#btnSave8thPart").click(function (e) {
                e.preventDefault();
                var headId=parseInt($('#headId').val())?parseInt($('#headId').val()):0;
                if(headId==''){
                    swal('পারফর্মেন্স  স্ট্যান্ডার্ড নির্বাচন করুন');
                    return false;
                }

                var form = $("#frmQuantitativeEvaluation");
                swal({title: 'Are you sure?',text: "You want to save this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, save it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("SaveQuantitativeEvaluation", "ExecutiveOfficer")',
                        data: form.serialize(),
                        type: 'POST',
                        success: function (records) {
                            swal('Success!','Data Saved Successfully.','success');
                            Common.Ajax('GET', '@Url.Action("GetACRIndicatorByAssmentId", "ExecutiveOfficer")?id=' + @Model.assessmentId+'&headId='+headId, [], 'json', GetQuantitativeEvaluationInfo, false);
                        },
                        error: function () {
                            alert("Fail to save");
                        }
                    });
                })
            });

            $("#btnsignature").click(function(e){
                Common.Ajax('GET', '@Url.Action("GetUsersProfile", "Officer")?id=' + @Model.assessmentId, [], 'json', GetUsersProfile, false);
            });

            $("#btn2ndSave").click(function (e) {
                e.preventDefault();
                $('#btn2ndSave').prop('disabled',true);
				var assId = @Model.assessmentId;
                var dr=$('#durationInRecommendetor').val();
                var goal=$('#goalAchievement').val();
                var assessmentDate=$('#bioSubmitDate').val();
				var drawerCode = $('#recomEmpId').val() ? $('#recomEmpId').val(): '';

                if(assId==0){
                    swal("Invalid Attempt!!!");
                    $('#btn2ndSave').prop('disabled',false);
                    return false;

                }
                //else if(drawerCode==""){
                //    swal("প্রতিবেদনকারী নির্বাচন করুন !!!");
                //    $('#btn2ndSave').prop('disabled',false);
                //    return false;

                //}



                swal({title: 'Are you sure?',text: "You want to Submit this!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, Submit it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("UpdateExecutiveOfficer2thPart", "ExecutiveOfficer")',
                        data: {assementId:assId,durationInRecommendetor:dr,goalAchievement:goal,assessmentDate:assessmentDate,drawerCode:drawerCode},
                        type: 'POST',
                        success: function (records) {
                            swal('Success!','Submited Successfully.','success');
                            $('#btn2ndSave').prop('disabled',true);

                            if(@ViewBag.UserTypeId==5 || @ViewBag.UserTypeId==6){
                                window.location.href = '@Url.Action("Authority", "AssessmentInfo")';
                            }

                        },
                        error: function () {
                            alert("Fail to save");
                            $('#btn2ndSave').prop('disabled',false);
                        }
                    });
                })
            });
           var empCode = $('#employeeId').val();

			Common.Ajax('GET', '/HRPMSACR/ExecutiveOfficer/GetEmployeeInfoByEmpCode?id=@Model.assessmentId', [], 'json', GetDGMEmployeeInfo, false);
            Common.Ajax('GET', '@Url.Action("GetEmployeeACRDetailsInfo", "ExecutiveOfficer")?id=' + @Model.assessmentId + '&acrTypeId=' + 1, [], 'json', GetDGMACRInfo, false);
            Common.Ajax('GET', '@Url.Action("GetEmployeeACRDetailsInfo", "ExecutiveOfficer")?id=' + @Model.assessmentId + '&acrTypeId=' + 2, [], 'json', GetDGMACRPerformanceInfo, false);
            Common.Ajax('GET', '@Url.Action("GetACRComments", "ExecutiveOfficer")?id=' + @Model.assessmentId, [], 'json', GetACRComments, false);
            Common.Ajax('GET', '@Url.Action("GetACRRecommendations", "ExecutiveOfficer")?id=' + @Model.assessmentId, [], 'json', GetACRRecommendations, false);
            Common.Ajax('GET', '@Url.Action("GetACRSignatories", "ExecutiveOfficer")?id=' + @Model.assessmentId, [], 'json', GetACRSignatories, false);
            Common.Ajax('GET', '@Url.Action("GetACRSignatories", "ExecutiveOfficer")?id=' + @Model.assessmentId, [], 'json', GetACRSignatories, false);

            @*Common.Ajax('GET', '@Url.Action("GetACRIndicatorByAssmentId", "ExecutiveOfficer")?id=' + @Model.assessmentId+'&headId='+@Model.headId, [], 'json', GetQuantitativeEvaluationInfo, false);*@
            Common.Ajax('GET', '@Url.Action("GetQuantativeEvaluation", "ExecutiveOfficer")?id=' + @Model.assessmentId+'&headId='+@Model.headId, [], 'json', GetQuantitativeEvaluationInfo, false);
            Common.Ajax('GET', '@Url.Action("GetEmployeeTraining", "Officer")?id=' + @Model.assessmentId , [], 'json', GetEmployeeTraining, false);
        //////////Employee Posting Place////////////////////////////
        @*Common.Ajax('GET', '/HRPMSACR/ExecutiveOfficer/GetEmployeePostingInfo?id='+ @Model.assessmentId', [], 'json', GetEmployeePostingInfo, false);*@
            @*Common.Ajax('GET', 'HRPMSACR/ExecutiveOfficer/GetEmployeePostingInfo?empCode=' + empCode + '&id=' + @Model.assessmentId, [], 'json', GetEmployeePostingInfo, false);*@

            $('#ckMoral').change(function() {
                if(this.checked) {
                    $('#moralComment6').val('Yes');
                }
                else{
                    @*if('@ViewBag.UserEmpCode'=='25812')*@
                    if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory')
                    {
                        $('#moralComment6').val('No');
                    }
                    else
                    {
                        $('#moralComment6').val('');
                    }
                    //$('#moralComment6').val('No');
                }

            });
            $('#ckIntellec').change(function() {
                if(this.checked) {
                    $('#intellectualComment6').val('Yes');
                }
                else{
                    @*if('@ViewBag.UserEmpCode'=='25812')*@
                    if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory')
                    {
                        $('#intellectualComment6').val('No');
                    }
                    else
                    {
                        $('#intellectualComment6').val('');
                    }

                }

            });
            $('#ckSub').change(function() {
                if(this.checked) {
                    $('#subjectiveComment6').val('Yes');
                }
                else{
                    @*if('@ViewBag.UserEmpCode'=='25812')*@
                    if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory')
                    {
                        $('#subjectiveComment6').val('No');
                    }
                    else
                    {
                        $('#subjectiveComment6').val('');
                    }
                }

            });

            $("#btnSaveForRecommander").click(function (e) {
				var recomId = $('#signEmpId').val();
                var assesId = $('#assessmentId').val();
                
                var evaluator = $('#hidEvaluator').val();
                var message1 = isThirdTabValid(evaluator);
				var message2 = isFifthTabValid(evaluator);
                var message3 =  isSixthTabValid(evaluator);

                if(message1 != '' || message2 != '' || message3!=''){
                    var message = message1 + ' ' + message2 + ' ' + message3;
                    swal("Attention!", message, "warning");
                    return false;
                }

                swal({title: 'Are you sure?',text: "You want to Submit this data!",type: 'warning',showCancelButton: true,confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',confirmButtonText: 'Yes, submit it!'
                }).then(function () {
                    $.ajax({
                        url: '@Url.Action("UpdateRecommendator", "ExecutiveOfficer")',
                        data: {assesId: assesId, recomId: recomId},
                        type: 'Get',
                        success: function (records) {
                            swal('Success!','Data Submited Successfully.','success');
                            window.location.href = '@Url.Action("Authority", "AssessmentInfo")';


                        },
                        error: function () {
                            alert("Fail to Submit");
                        }
                    });
                })

            });


            $(":radio").on("mousedown", function() {
                var name=($(this).attr('name'));
                var nval= $('input[name='+name+']:checked').val();

                $('input[name='+name+']').each(function () {
                    var valId=$(this).attr('id');
                    var isVal=$('#'+valId).val();
                    if(isVal==1 && '@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory'){
                        $('#'+valId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                    }else{
                        if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory'){
                            $('#'+valId).val(0)
                        }else{
                            $('#'+valId).val(0).css('display','block');
                            $('#img'+valId).css('display','none');
                        }

                    }
                });

            }).on("mouseup", function() {
                var name=($(this).attr('name'));
                $('input[name='+name+']').prop('checked', false);
                $(this).prop('checked', true);
                var uval=$('input[name='+name+']:checked').val();
                var uid=$(this).attr('id');
                if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory'){
                    if($('#'+uid).val()!=1){
                        $('#'+uid).val(2);
                    }

                }else{
                    $('#'+uid).val(1);
                }

                SumBasicTotal();
                fnSumOfMarks();
            });


            $(document).on("click", "input[name = 'target']", function (e) {
                var thisVal=parseInt($(this).val())?parseInt($(this).val()):0;
                if (thisVal==0) {
                    $('#tblQE .money').each(function() {
                        var achive = parseInt($(this).val())?parseInt($(this).val()):0;
                        if(achive==0){
                            $(this).val(0);
                        }
                    })
                    $(this).val('');
                }
            });

            $(document).on("click", "input[name = 'achievement']", function (e) {
                var thisVal=parseInt($(this).val())?parseInt($(this).val()):0;
                if (thisVal==0) {
                    $('#tblQE .money').each(function() {
                        var achive = parseInt($(this).val())?parseInt($(this).val()):0;
                        if(achive==0){
                            $(this).val(0);
                        }
                    })
                    $(this).val('');
                }
            });
            $(document).on("click", "input[name = 'achievementSign']", function (e) {
                var thisVal=parseInt($(this).val())?parseInt($(this).val()):0;
                var id=$(this).attr('id');
                if (thisVal==0) {
                    $('#tblQE .money').each(function() {
                        var achive = parseInt($(this).val())?parseInt($(this).val()):0;
                        if(achive==0){
                            $(this).val(0);
                        }
                    })
                    $(this).val('');
                } else {

                }
            });

            $(".money").keydown(function (e) {
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                    (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
                    (e.keyCode == 67 && (e.ctrlKey === true || e.metaKey === true)) ||
                    (e.keyCode == 88 && (e.ctrlKey === true || e.metaKey === true)) ||
                    (e.keyCode >= 35 && e.keyCode <= 39)) {
                    return;
                }
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });

            $('#evaluationCommentsHeadId').change(function(){
                var thisVal=parseInt($(this).val())?parseInt($(this).val()):0;
                Common.Ajax('GET', '@Url.Action("GetEvaluationMarksByCommentsId", "Officer")?id=' + thisVal, [], 'json', GetEvaluationMarksByCommentsId, false);
            });

        });

        function GetEvaluationMarksByCommentsId(response) {
            $('#commentsMark').val(response.commentsMark);
        }


        function GetEmployeeTraining(response) {
            //console.log(response);
            var index = "1";
            $("#tblEmployeeTraining tbody>tr").empty();
            $.each(response.employeeTrainingViewModels, function (key, value) {
               // var sl = "";
                //alert(value.FromDate);
                var fromDates = '';
                var toDates = '';
                if (value.FromDate != null) {
                    fromDates = formatDate(value.FromDate);
                   // alert(fromDates)
                    //fromDate = value.FromDate;
                }
                //else if (value.FromDate == "")
                //{
                //    fromDates = formatDate(value.FromDate)
                //}
                else {
                    fromDates = "";
                }
                if (value.ToDate != null) {
                    toDates = formatDate(value.ToDate);
                   // toDate = value.ToDate;
                }
                else {
                    toDate = "";
                }
                index = $("#tblEmployeeTraining tbody>tr").length;
                index = index + 1;
                var dtTable = $("#tblEmployeeTraining");
                var tableBody = dtTable.find('tbody');
                var trHtml = '<tr id=' + index + '>' +
                    '<td>' + index + '<input type="hidden" name="id"class="clsId" value="' + value.TrainingYear + '"></td>' +
                    '<td>' + value.TrainingTitle + '</td>' +
                    '<td>' + fromDates + '</td>' +
                    '<td>' + toDates + '</td>' +
                    '<td>' + value.TraingInstitute + '</td>' +
                    '<td>' + value.TrainingCountry + '</td>' +
                    '<td>' + value.Remarks + '</td>' +
                    '<td>' + value.Result + '</td>' +
                    '</tr>';

                tableBody.append(trHtml);
            })
            //index = index + 1;
        }

        function getPrint() {
            @*window.open('@Url.Action("PrintPreview", "Report")?assesmentId=' + @ViewBag.assessmentId + '&rptType=' + 1 + '', '_blank');*@
            window.open('/HRPMSACR/HtmlReport/AcrReportExcecutivePdf?assessmentId=@ViewBag.assessmentId', '_blank');

        }

        function GetUsersProfile(response) {
            $('#user_signature').show();
            $('#user_signature').prop('src', '@ViewBag.BaseUrl' + response[0].signaturePath);
        }

        function GetUsersProfileR(response) {
            $('#user_signature').show();
            $('#user_signature').prop('src', '@ViewBag.BaseUrl' + response[0].signaturePath);
            $('#empImg').prop('src', '@ViewBag.BaseUrl' + response[0].picturePath);
        }

		function formatDate(date) {
			date = new Date(date);
			var year = date.getFullYear(),
				month = date.getMonth() + 1, // months are zero indexed
				day = date.getDate(),
				hour = date.getHours(),
				minute = date.getMinutes(),
				second = date.getSeconds(),
				hourFormatted = hour % 12 || 12, // hour returned in 24 hour format
				minuteFormatted = minute < 10 ? "0" + minute : minute,
				morning = hour < 12 ? "am" : "HR";

			return day + "/" + + month + "/" + year;
		}
        function formatDatenew(date) {
            date = new Date(date);
            var year = date.getFullYear(),
                month = date.getMonth() + 1, // months are zero indexed
                day = date.getDate(),
                hour = date.getHours(),
                minute = date.getMinutes(),
                second = date.getSeconds(),
                hourFormatted = hour % 12 || 12, // hour returned in 24 hour format
                minuteFormatted = minute < 10 ? "0" + minute : minute,
                morning = hour < 12 ? "am" : "HR";

            return day + "/" + + month + "/" + year;
        }

		function GetDGMEmployeeInfo(response) {
			console.log("ok");
            console.log(response);
            $('.JobDurationDGM').val(response.empAcr?.jobDuration);

            $('#recomEmpId').val(response.empAcr?.superVisor?.supervisorCode);
            $('#recommendator').val(response.empAcr?.superVisor?.supervisorName);
            $('#recomDesig').val(response.empAcr?.superVisor?.supervisorDesig);

            //var rootPathimg=response[0].ImagePath;
            //var imgPath = rootPathimg.substring(rootPathimg.lastIndexOf("\\")+1, rootPathimg.length);
			var imgPath = response.empAcr?.photoUrl;
			if (imgPath == null) {
				imgPath = "images/user-icon-png.png";
            }


			$('#empImg').attr("src", "/"+imgPath);
			$('#session').val(response.empAcr?.yearRange);
			$('#employeeId').val(response.empAcr?.employeeInfo?.employeeCode);
            $('#EmpCode').val(response.empAcr?.employeeInfo?.employeeCode);
			$('#fileNo').val(response.empAcr?.employeeInfo?.fileNo);
			$('#employeeName').val(response.empAcr?.employeeInfo?.nameEnglish);
			$('#nameBangla').val(response.empAcr?.employeeInfo?.nameBangla);
			$('#user_signature').attr('src', '/EmpImages/' + response.empSignature ?.url);
			$('#designation').val(response.empAcr?.lastDesignation);
            $('#branchName').val(response.empAcr?.postingPlaceMainDuty);
            $('#positionType').val('Bangladesh Development Bank Limited');
			////$('#noOfSons').val(response[0].NoOfChild);
			$('#designationOnReport').val(response.empAcr?.lastDesignation);
			$('#nid').val(response.empAcr?.employeeInfo?.nationalID);
            $('#fatherOrSpouseName').val(response.empAcr?.employeeInfo?.fatherNameEnglish);
            $('#motherName').val(response.empAcr?.employeeInfo?.motherNameEnglish);
			$('#dateOfBirth').val(formatDate(response.empAcr?.employeeInfo?.dateOfBirth));
            $('#educationalQ').val(response.empAcr?.lastEducation);
			$('#joiningDtCurrPost').val(formatDate(response.empAcr?.employeeInfo?.joiningDateGovtService));
            $('#designationAtJoining').val(response.empAcr?.joiningDesignation);
			$('#datOfjoining').val(formatDate(response.empAcr?.employeeInfo?.joiningDateGovtService));
            //$('#salaryScaleAndBasic').val(response.empAcr?.gradeSlab + ', ' + response.empAcr?.employeeInfo?.currentBasic);
            $('#salaryScaleAndBasic').val(response.empAcrGrade ?.currentGrade);
            //if (response.empAcr?.assessment?.durationInRecommendetor == '' || response.empAcr?.assessment?.durationInRecommendetor==null){
            //    $('#durationInRecommendetor').val(response.empAcr?.jobUnderSupervisor);
            //}
            //else{
            //    $('#durationInRecommendetor').val(response.empAcr?.assessment?.durationInRecommendetor);
            //}

            //$('#goalAchievement').val(response[0].goalAchievement);
            $('#JobDurationAsOthers').val(response.empAcr?.jobDurationAsOthers);
            $('#JobDurationAsBranchManger').val(response.empAcr?.jobDurationAsManager);
            $('#JobDurationAsZonalHead').val(response.empAcr?.jobDurationAsZonalHead);
            if (response.empAcr?.diploma2 == '' || response.empAcr?.diploma2 == null) {
                $('#bankingDiploma').val(response.empAcr?.diploma1);
            }
            else {
                $('#bankingDiploma').val(response.empAcr?.diploma1+' , '+response.empAcr?.diploma2);
            }
            if (response.empAcr?.profQ == '' || response.empAcr?.profQ == null) {
                $('#othersQ').val(response.empAcr?.othersQ);
            }
            else if (response.empAcr?.othersQ == '' || response.empAcr?.othersQ == null) {
                $('#othersQ').val(response.empAcr?.profQ);
            }
            else {
                $('#othersQ').val(response.empAcr?.profQ+' , '+response.empAcr?.othersQ);
            }
            //$('#othersQ').val(response[0].ProfQName);
            $('#trainingAndPeriod').val('তালিকা সংযুক্ত');
            //$('#evaluationCommentsHeadId').val(response[0].evaluationCommentsHeadId);
            //$('#commentsMark').val(response[0].commentsMark);

			if (response.empAcr?.employeeInfo?.maritalStatus=='Unmarried')
            {
                $('#single')[0].checked = true;
            }
			else if (response.empAcr?.employeeInfo?.maritalStatus == 'Married')
            {
                $('#married')[0].checked = true;
            }
			else if (response.empAcr?.employeeInfo?.maritalStatus == 'Divorced') {
                $('#widower')[0].checked = true;
            }
			else if (response.empAcr?.employeeInfo?.maritalStatus == 'Widow') {
                $('#widow')[0].checked = true;
            }
        }

        function GetDGMACRInfo(response) {
            Refresh('tblThirdPart');
            $.each(response, function (i, option) {

                //Asad Added On 27.09.2023
                if (option.forthValue == 1) {
                    $('#tblThirdPart #forthValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #forthValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblThirdPart #imgforthValue-' + option.acrEvaluationNameId).css('display','block');
                } else if (option.thirdValue == 1) {
                    $('#tblThirdPart #thirdValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #thirdValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblThirdPart #imgthirdValue-' + option.acrEvaluationNameId).css('display','block');
                } else if (option.sencondValue == 1) {
                    $('#tblThirdPart #sencondValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #sencondValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblThirdPart #imgsencondValue-' + option.acrEvaluationNameId).css('display','block');
                } else if (option.firstValue == 1) {
                    $('#tblThirdPart #firstValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #firstValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblThirdPart #imgfirstValue-' + option.acrEvaluationNameId).css('display','block');
                }

                //Asad Commented 27.09.2023
                //if (option.forthValue == 1) {
                //    $('#tblThirdPart #forthValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblThirdPart #forthValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblThirdPart #imgforthValue-' + option.acrEvaluationNameId).css('display','block');
                //} else if (option.thirdValue == 1) {
                //    $('#tblThirdPart #thirdValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblThirdPart #thirdValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblThirdPart #imgthirdValue-' + option.acrEvaluationNameId).css('display','block');
                //} else if (option.sencondValue == 1) {
                //    $('#tblThirdPart #sencondValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblThirdPart #sencondValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblThirdPart #imgsencondValue-' + option.acrEvaluationNameId).css('display','block');
                //} else if (option.firstValue == 1) {
                //    $('#tblThirdPart #firstValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblThirdPart #firstValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblThirdPart #imgfirstValue-' + option.acrEvaluationNameId).css('display','block');
                //}

                if (option.forthValue == 2) {
                    $('#tblThirdPart #forthValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #forthValue-' + option.acrEvaluationNameId).val(2);
                } else if (option.thirdValue == 2) {
                    $('#tblThirdPart #thirdValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #thirdValue-' + option.acrEvaluationNameId).val(2);
                } else if (option.sencondValue == 2) {
                    $('#tblThirdPart #sencondValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #sencondValue-' + option.acrEvaluationNameId).val(2);
                } else if (option.firstValue == 2) {
                    $('#tblThirdPart #firstValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblThirdPart #firstValue-' + option.acrEvaluationNameId).val(2);
                }

                if (option.forthValue == 1 && (option.thirdValue == 2 || option.sencondValue == 2 || option.firstValue == 2)) {
                    $('#tblThirdPart #imgforthValue-'+ option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                    $('#tblThirdPart #forthValue-' + option.acrEvaluationNameId).val(0);
                } else if (option.thirdValue == 1 && (option.forthValue == 2 || option.sencondValue == 2 || option.firstValue == 2)) {
                    $('#tblThirdPart #imgthirdValue-'+ option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                    $('#tblThirdPart #thirdValue-' + option.acrEvaluationNameId).val(0);
                } else if (option.sencondValue == 1 && (option.forthValue == 2 || option.thirdValue == 2 || option.firstValue == 2)) {
                    $('#tblThirdPart #imgsencondValue-'+ option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                    $('#tblThirdPart #sencondValue-' + option.acrEvaluationNameId).val(0);
                } else if (option.firstValue == 1 && (option.forthValue == 2 || option.thirdValue == 2 || option.sencondValue == 2)) {
                    $('#tblThirdPart #imgfirstValue-'+ option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                    $('#tblThirdPart #firstValue-' + option.acrEvaluationNameId).val(0);
                }

                $('#tblThirdPart #acrId_'+i).val(option.acrId);
            });

            fnSumOfMarks();

        }
        function writeData() {
            $(".clsForthValue").prop("disabled", true);
            $(".clsThirdValue").prop("disabled", true);
            $(".clsSecondValue").prop("disabled", true);
            $(".clsFirstValue").prop("disabled", true);
        }
        function fnShowInput(arg){

            var name = arg.getAttribute('name');
            var id = arg.getAttribute('id');
            var rid=id.split('-')[1];
            var chId=id.replace('img','');
            $('input[name=FP-'+rid+']').val(0);
            $('#'+chId).val(1);
            @*if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory'){
                if($('#'+chId).val()!=1){
                    $('#'+chId).val(2);
                }

            }else{
                $('#'+chId).val(1);
            }*@


            $('#' + chId).prop('checked', true);
            $('#'+id).closest("td").css('background-image','none');
            //$('#' + chId).val(1).css('display','block');
            //$('#' + id).css('display','none');

            var sumForthVal = 0;
            $(".clsForthValue").each(function () {
                var fval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(fval>1){fval=1};
                sumForthVal += fval;
            });

            var sumTrdVal = 0;
            $(".clsThirdValue").each(function () {
                var tval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(tval>1){tval=1};
                sumTrdVal += tval;
            });

            var sumScndVal = 0;
            $(".clsSecondValue").each(function () {
                var sval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(sval>1){sval=1};
                sumScndVal += sval;
            });

            var sumFirstVal = 0;
            $(".clsFirstValue").each(function () {
                var fval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(fval>1){fval=1};
                sumFirstVal += fval;
            });
            var total = sumFirstVal + (sumScndVal * 2) + (sumTrdVal * 3) + (sumForthVal * 4);

            if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.recommendator'){
                $('#total').html(total);
                $('.InitTotal').html(total);
                GetAmountInWord(total);
            }else{
                $('#totalMarks').val(total);
                GetAmountInWordSign(total);
            }
        }

	    function GetDGMACRPerformanceInfo(response) {
		console.log(response)
		console.log('alert')
            Refresh('tblPerformance');
            $.each(response, function (i, option) {

                //Asad Added On 27.09.2023
                if (option.forthValue == 1) {
                    $('#tblPerformance #forthValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #forthValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblPerformance #imgforthValue-' + option.acrEvaluationNameId).css('display','block');
                } else if (option.thirdValue == 1) {
                    $('#tblPerformance #thirdValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #thirdValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblPerformance #imgthirdValue-' + option.acrEvaluationNameId).css('display','block');
                } else if (option.sencondValue == 1) {
                    $('#tblPerformance #sencondValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #sencondValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblPerformance #imgsencondValue-' + option.acrEvaluationNameId).css('display','block');
                } else if (option.firstValue == 1) {
                    $('#tblPerformance #firstValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #firstValue-' + option.acrEvaluationNameId).val(1);
                    $('#tblPerformance #imgfirstValue-' + option.acrEvaluationNameId).css('display','block');
                }

                //Asad Commented On 27.09.2023
                //if (option.forthValue == 1) {
                //    $('#tblPerformance #forthValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblPerformance #forthValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblPerformance #imgforthValue-' + option.acrEvaluationNameId).css('display','block');
                //} else if (option.thirdValue == 1) {
                //    $('#tblPerformance #thirdValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblPerformance #thirdValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblPerformance #imgthirdValue-' + option.acrEvaluationNameId).css('display','block');
                //} else if (option.sencondValue == 1) {
                //    $('#tblPerformance #sencondValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblPerformance #sencondValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblPerformance #imgsencondValue-' + option.acrEvaluationNameId).css('display','block');
                //} else if (option.firstValue == 1) {
                //    $('#tblPerformance #firstValue-' + option.acrEvaluationNameId).prop('checked', true);
                //    $('#tblPerformance #firstValue-' + option.acrEvaluationNameId).val(1).css('display','none');
                //    $('#tblPerformance #imgfirstValue-' + option.acrEvaluationNameId).css('display','block');
                //}

                if (option.forthValue == 2) {
                    $('#tblPerformance #forthValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #forthValue-' + option.acrEvaluationNameId).val(2);
                } else if (option.thirdValue == 2) {
                    $('#tblPerformance #thirdValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #thirdValue-' + option.acrEvaluationNameId).val(2);
                } else if (option.sencondValue == 2) {
                    $('#tblPerformance #sencondValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #sencondValue-' + option.acrEvaluationNameId).val(2);
                } else if (option.firstValue == 2) {
                    $('#tblPerformance #firstValue-' + option.acrEvaluationNameId).prop('checked', true);
                    $('#tblPerformance #firstValue-' + option.acrEvaluationNameId).val(2);
                }

                if (option.forthValue == 1 && (option.thirdValue == 2 || option.sencondValue == 2 || option.firstValue == 2)) {
                    $('#tblPerformance #forthValue-' + option.acrEvaluationNameId).val(0);
                    $('#tblPerformance #imgforthValue-'+ option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                } else if (option.thirdValue == 1 && (option.forthValue == 2 || option.sencondValue == 2 || option.firstValue == 2)) {
                    $('#tblPerformance #thirdValue-' + option.acrEvaluationNameId).val(0);
                    $('#tblPerformance #imgthirdValue-'+option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                } else if (option.sencondValue == 1 && (option.forthValue == 2 || option.thirdValue == 2 || option.firstValue == 2)) {
                    $('#tblPerformance #sencondValue-' + option.acrEvaluationNameId).val(0);
                    $('#tblPerformance #imgsencondValue-'+ option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                } else if (option.firstValue == 1 && (option.forthValue == 2 || option.thirdValue == 2 || option.sencondValue == 2)) {
                    $('#tblPerformance #firstValue-' + option.acrEvaluationNameId).val(0);
                    $('#tblPerformance #imgfirstValue'+option.acrEvaluationNameId).closest("td").css('background-image','linear-gradient(to bottom right,  transparent calc(50% - 1px), red, transparent calc(50% + 1px))');
                }

                $('#tblPerformance #acrId_'+i).val(option.acrId);

            });
            $('#total').html(response[0]?.marks);

            $('#inWord').html(response[0]?.marksInWord);
            fnSumOfMarks();


        var totalam = $('#tMark').val();
      
        //alert(totalam)
        $('#total').val(totalam);
        var amInword = GetAmountInWord(totalam);
        $('#inWord').html(amInword);



      

     }

        function fnSumOfMarks(){
            var sumForthVal = 0;
            $(".clsForthValue").each(function () {
                var fval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(fval>1){fval=1};
                sumForthVal += fval;
            });

            var sumTrdVal = 0;
            $(".clsThirdValue").each(function () {
                var tval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(tval>1){tval=1};
                sumTrdVal += +tval;
            });

            var sumScndVal = 0;
            $(".clsSecondValue").each(function () {
                var sval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(sval>1){sval=1};
                sumScndVal += +sval;
            });

            var sumFirstVal = 0;
            $(".clsFirstValue").each(function () {
                var fval=parseFloat($(this).val().replace(/,/g, '')) ? parseFloat($(this).val().replace(/,/g, '')) : 0;
                if(fval>1){fval=1};
                sumFirstVal += +fval;
            });

            var totalMark = sumFirstVal + (sumScndVal * 2) + (sumTrdVal * 3) + (sumForthVal * 4);

            $('#totalMarks').val(totalMark);
            GetAmountInWordSign(totalMark);
        }

        function GetAmountInWord(number) {
            $.ajax({
                contentType: "application/json; charset=utf-8",
                url: '@Url.Action("GetAmountInWord", "ExecutiveOfficer")',
                type: "GET",
                dataType: "json",
                async: true,
                data: {number:number},
                success: function (result) {
                   //alert("GetAmountInWord")
                    $("#inWord").html(result);
                    //alert(result)
                },
                failure: function () {
                    $.alert.open("error", "Failed!");
                }
            });
        }

        function GetAmountInWordSign(number) {
            $.ajax({
                contentType: "application/json; charset=utf-8",
                url: '@Url.Action("GetAmountInWord", "ExecutiveOfficer")',
                type: "GET",
                dataType: "json",
                async: true,
                data: {number:number},
                success: function (result) {
                    $('#totalMarksInWord').val(result);
                },
                failure: function () {
                    $.alert.open("error", "Failed!");
                }
            });
        }



        function GetQuantitativeEvaluationInfo(response){
            $("#tblQE tbody>tr").remove();
            if (response.aCRQuantitativeEvaluationViewModels.length>0){
                $('#acrCounter').val(response.aCRQuantitativeEvaluationViewModels[0].acrCounter);
                $('#headId').val(response.aCRQuantitativeEvaluationViewModels[0].headId);
                $('#evaluationCommentsHeadId').val(response.aCRQuantitativeEvaluationViewModels[0].evaluationCommentsHeadId);
                Common.Ajax('GET', '@Url.Action("GetEvaluationMarksByCommentsId", "Officer")?id=' + response.aCRQuantitativeEvaluationViewModels[0].evaluationCommentsHeadId, [], 'json', GetEvaluationMarksByCommentsId, false);

                if (response.aCRQuantitativeEvaluationViewModels[0].headId==7)
                {
                    $('#hideCommentHead').show();
                }
                else{
                    $('#hideCommentHead').hide();
                }
            }

            $.each(response.aCRQuantitativeEvaluationViewModels, function (key, value) {
                var index = $("#tblQE tbody>tr").length;
                var dtTable = $("#tblQE");
                var tableBody = dtTable.find('tbody');
                if('@ViewBag.UserEmpCode' == '@Model.AssessmentBasic?.signatoryDesig'){
                    var trHtml = '<tr id=' + index + '>' +
                                    '<td>' + value.indicatorNameBn + '<input type="hidden" name="aCRIndicatorId" value="'+value.indicatorId+'" /><input type="hidden" id="qaId_'+value.indicatorId+'" name="qaId" value="'+value.evaluationId+'" /></td>' +
                                    '<td><input class="money clsTarget" name="target" id="target_'+value.indicatorId+'" value="'+value.target+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                    '<td><input class="money clsAchievement" name="achievement" id="achievement_'+value.indicatorId+'" value="'+value.achievement+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                    '<td><input class="clsIndicate_'+value.indicatorId+'" name="achievementPercent" id="achievementPercent_'+value.indicatorId+'" value="'+value.achievementPercent+'"  style="padding-left:0px;padding-right:2px;text-align:right;width:90%" readonly />%</td>' +
                                    '<td><input class="money clsAchievementSign" name="achievementSign" id="achievementSign_'+value.indicatorId+'" value="'+value.achievementSign+'" onkeyup="fnQAPercentSign('+value.indicatorId+')" style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                    '<td><input class="clsIndicate_'+value.indicatorId+'" name="achievementPercentSign" id="achievementPercentSign_'+value.indicatorId+'" value="'+value.achievementPercentSign+'"  style="padding-left:0px;padding-right:2px;text-align:right;width:90%" readonly />%</td>' +
                                 '</tr>';
                    tableBody.append(trHtml);

                }else{
                    var trHtml = '<tr id=' + index + '>' +
                                    '<td>' + value.indicatorNameBn + '<input type="hidden" name="aCRIndicatorId" value="'+value.indicatorId+'" /><input type="hidden" id="qaId_'+value.indicatorId+'" name="qaId" value="'+value.evaluationId+'" /></td>' +
                                    '<td><input class="money clsTarget" name="target" id="target_'+value.indicatorId+'" value="'+value.target+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                    '<td><input class="money clsAchievement" name="achievement" id="achievement_'+value.indicatorId+'" value="'+value.achievement+'" onkeyup="fnQAPercent('+value.indicatorId+')"  style="padding-left:0px;padding-right:2px;text-align:right;width:100%" /></td>' +
                                    '<td><input class="clsIndicate_'+value.indicatorId+'" name="achievementPercent" id="achievementPercent_'+value.indicatorId+'" value="'+value.achievementPercent+'" style="padding-left:0px;padding-right:2px;text-align:right;width:90%" readonly />%</td>' +
                                 '</tr>';
                    tableBody.append(trHtml);
                }

                var tarval=parseFloat(value.target)?parseFloat(value.target):0;
                if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory' && tarval!=0){
                    $('#target_'+value.indicatorId).attr('readonly', true);
                }

                if(value.target==0 || value.target==null){
                    $('#target_'+value.indicatorId).attr('readonly', false);
                }

            });

            var sumAchiSign = 0;
            for (var i = 0; i < response.length; i++) {
                sumAchiSign += parseFloat(response.aCRQuantitativeEvaluationViewModels[i].achievementSign) ? parseFloat(response.aCRQuantitativeEvaluationViewModels[i].achievementSign):0;
            }

            if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.signatory'){
                $('.clsAchievement').attr('readonly', true);
                $('#acrCounter').attr('disabled',true);
                $('#headId').attr('disabled',true);
            }else if('@ViewBag.UserEmpCode'=='@Model.AssessmentBasic?.recommendator' && sumAchiSign>0){
                $('.clsTarget').attr('readonly', true);
                $('.clsAchievement').attr('readonly', true);
                $('#acrCounter').attr('disabled',true);
                $('#headId').attr('disabled',true);
            }

            AchievRecomAvg();
            AchievSignAvg();
        }

        function Refresh(tableName) {
            $('#' + tableName + ' .clsForthValue').val(0).prop('checked', false);
            $('#' + tableName + ' .clsThirdValue').val(0).prop('checked', false);
            $('#' + tableName + ' .clsSecondValue').val(0).prop('checked', false);
            $('#' + tableName + ' .clsFirstValue').val(0).prop('checked', false);
        }
        function GetACRComments(response) {
        console.log(response)
            $('#specialRemarks').val(response?.specialRemarks);
        }
        function GetACRRecommendations(response) {
            console.log(response);
            $('#specialComment6').val(response?.specialComment6);
            $('#moralComment6').val(response?.moralComment6);
            $('#intellectualComment6').val(response?.intellectualComment6);
            $('#subjectiveComment6').val(response?.subjectiveComment6);
            
            $('#trainingComment6').val(response?.trainingComment6);
            $('#othersRecommends6').val(response?.othersRecommends6);
            $('#promotionalQualification').val(response?.promotionalQualification);

            if(response?.promotionalQualification=='1')
            {
                $('#promotionable')[0].checked = true;
            }
            else if(response?.promotionalQualification=='2')
            {
                $('#notPromotionable')[0].checked = true;
            }
            else if (response?.promotionalQualification == '3') {
                $('#highlyPerfomer')[0].checked = true;
            }
            else if (response?.promotionalQualification == '4') {
                $('#recentlyPromoted')[0].checked = true;
            }

            if(response?.promotionalQualificationSignatory=='1')
            {
                $('#promotionable')[0].checked = true;
            }
            else if(response?.promotionalQualificationSignatory=='2')
            {
                $('#notPromotionable')[0].checked = true;
            }
            else if (response?.promotionalQualificationSignatory == '3') {
                $('#highlyPerfomer')[0].checked = true;
            }
            else if (response?.promotionalQualificationSignatory == '4') {
                $('#recentlyPromoted')[0].checked = true;
            }
        }
        function GetACRSignatories(response) {
            $('#disAgreementComment7').val(response?.disAgreementComment7);
            $('#evaluationType7').val(response?.evaluationType7);

            if(response?.evaluationType7=='1')
            {
                $('#excellent')[0].checked = true;
            }
            else if(response?.evaluationType7=='2')
            {
                $('#logicalGood')[0].checked = true;
            }
            else if (response?.evaluationType7 == '3') {
                $('#strict')[0].checked = true;
            }
            else if (response?.evaluationType7 == '4') {
                $('#flexible')[0].checked = true;
            }
            else if (response?.evaluationType7 == '5') {
                $('#biased')[0].checked = true;
            }
        }

		function GetRecommendatorNameByCode() {
			let empCode = $('#recomEmpId').val();

            if (empCode == '') {
                swal("Insert Employee Code");
                return false;
            }
			Common.Ajax('GET', '/HRPMSACR/ExecutiveOfficer/GetEmpByEmpCode?empcode=' + empCode, [], 'json', RecomEmpInfo, false);
        }

		function RecomEmpInfo(response) {
			console.log(response)
            $('#recommendator').val(response?.employeeCode);
            $('#recomEmpName').val(response?.nameBangla);
			$('#recomDesig').val(response?.lastDesignation?.designationNameBN);
        }

        function GetSignatoryNameByCode() {
            var empCode = $('#signEmpId').val();
            if (empCode == '') {
                swal("Insert Employee Code");
                return false;
            }
            Common.Ajax('GET', '/HRPMSACR/ExecutiveOfficer/GetEmpByEmpCode?empcode=' + empCode, [], 'json', SignEmpInfo, false);
        }

		function SignEmpInfo(response) {
			console.log(response)
            $('#signatory').val(response?.employeeCode);
            $('#signEmpName').val(response?.nameBangla);
            $('#signDesig').val(response?.lastDesignation?.designationNameBN);
        }

        function readSignatureURL(input) {
            if (input.files && input.files[0]) {
                var filerdr = new FileReader();
                filerdr.onload = function (e) {
                    $('#user_signature').attr('src', e.target.result);
                }
                filerdr.readAsDataURL(input.files[0]);
            }
        }

        function uploadSignatureFile() {
            var id = 0;
            if ($("#employeeId").val() != 0) {
                id = $('#employeeId').val();
            }
            if (window.FormData !== undefined) {
                var fileUpload = $("#signaturePath").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                fileData.append("ID", id);

                $.ajax({
                    url: '@Url.Action("UploadImageFile", "ExecutiveOfficer", "http")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (result) {

                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            } else {
                alert("FormData is not supported.");
            }
        };

        function SaveAttachment() {
            var id = 0;
            if ($("#employeeId").val() != 0) {
                id = $('#employeeId').val();
               
            }
            if (window.FormData !== undefined) {
                var fileUpload = $("#targetDocs").get(0);
              
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                fileData.append("empCode", id);
                fileData.append("assesmentId", @Model.assessmentId);
               
                $.ajax({
                   
                    url: '@Url.Action("UploadTargetAchiveDocument", "ExecutiveOfficer", "http")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (result) {
                        swal("Success!","Save Successfull","success");
                        $("#targetDocs").val('');
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            } else {
                alert("FormData is not supported.");
            }
        }

        function SaveCertificate() {
            //var fileInput = document.getElementById('files');
            //for (i = 0; i < fileInput.files.length; i++) {
            //    formdata.append(fileInput.files[i].name, fileInput.files[i]);
            //}
            var id = 0;
            if ($("#employeeId").val() != 0) {
                id = $('#employeeId').val();
            }
            if (window.FormData !== undefined) {
                var fileUpload = $("#CertificationDocs").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                fileData.append("empCode", id);
                fileData.append("assesmentId", @Model.assessmentId);

                $.ajax({
                    url: '@Url.Action("UploadTargetAchiveDocumentCertification", "ExecutiveOfficer", "http")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (result) {
                        swal("Success!","Save Successfull","success");
                        $("#CertificationDocs").val('');
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            } else {
                alert("FormData is not supported.");
            }
        }

        function OpenCertificateView(){
        $('#CertificationViewModal').modal('show');
        var assId =@Model.assessmentId;

        var rowno = 0
            $.ajax({
                type: 'GET',
                contentType: "application/json; charset=utf-8",
                url: '/HRPMSACR/ExecutiveOfficer/GetTargetAchiveDocsCertification?assesId=' + assId,
                dataType: 'json',
                async: true,
                success: function (attachments) {
                    var index = 1;

                    var dtTable = $("#dtAttachment");
                    var cardbody = dtTable.find('#divPanel1');

                    cardbody.empty();
                    if (attachments.attachmentpath != null) {
                        rowno = rowno + 1;
                        var fileName = attachments.attachmentpath
                        var filePath = '/Upload/ACR/' + attachments.attachmentpath
                        $('#SubjectName').val(attachments.attachmentpath);
                        if (attachments.attachmentpath != null) {
                            //if (E.MimeType == "application/msword" || E.MimeType == "application/pdf" || E.MimeType == "application/x-msexcel" || E.MimeType == "application/octet-stream" || E.MimeType == "text/plain" || E.MimeType == "application/vnd.openxmlformats-officedocument.wordprocessingml.document" || E.MimeType == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet") {
                            if (attachments.attachmentpath != null) {
                                cardbody.append(`
                                             <div class="card div${rowno} boxDesign" id="btnTotalLead">

                                                     <i class="fa fa-file" style="font-size:40px;color:lightgray"> </i>

                                                 <div class="card-body" style="height:120px;">
                                                     <div class="cardimg">
                                                         <img class="card-img-top" src="${fileName}" alt="Attachment">
                                                      </div>


                                                  </div>
                                                   <div class="card-footer text-center font-weight-bold" style:"margin: 0 -8% -9% -9%;">


                                                            <a href="${filePath}"  target="_blank"  title="Preview"  class="btn btn-info btn-sm"><i class="fa fa-eye"></i></a>

                                                   </div>

                                             </div>`

                                )



                            }
                            else {
                                cardbody.append(`
                                             <div class="card div${rowno} boxDesign" id="btnTotalLead">
                                                        <i class="fa fa-file" style="font-size:16px;color:black">File</i>

                                                 <div class="card-body" style="height:150px;">

                                                  <div class="cardimg">
                                                            <input type="text" value="${fileName}"/>
                                                      </div>

                                                  </div>
                                                   <div class="card-footer text-center font-weight-bold" style:"margin: 0 -8% -9% -9%;">


                                                            <a href="${filePath}"  target="_blank"  title="Image Preview"  class="btn btn-info btn-sm"><i class="fa fa-eye"></i></a>

                                                   </div>

                                             </div>`

                                )
                            }
                        }
                    }
                    $('#AjaxLoader').hide()
                },
                error: function (request, status, error) {
                    alert(request.statusText + "/" + request.statusText + "/" + error);
                }
            });
        }


    </script>
}