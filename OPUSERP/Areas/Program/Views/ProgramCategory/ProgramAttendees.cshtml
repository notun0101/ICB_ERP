
@model ProgramAttendeeView

@{
    ViewData["Title"] = "ProgramMaster";
    //Layout = "/Views/Shared/_Layout.cshtml";
}
@section Style{
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <style>
        div.justified {
            display: flex;
            justify-content: center;
        }

        .redStar {
            color: red;
        }
    </style>
}
<br />
<section>
    <div class="container-fluid">
        <div class="card">
            <div class="card-header">
                <a class="btn btn-success btn-sm" id="backBtn" style="float:right; color:white">&nbsp; &nbsp; Back &nbsp; &nbsp;</a>
                <h5 style="font-weight:bold; color:black">Program Attendee</h5>
            </div>
            <div class="card-body">
                <form id="myForm" enctype="multipart/form-data" data-parsley-validate="parsley">
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Project Number<span style="color:red">*</span></label>
                        <div class="col-md-10 col-sm-10">
                            <select name="programMasterId" id="programMasterId" class="form-control">
                                <option value="">----Select Program----</option>
                                @foreach (var item in Model.programMasters)
                                {
                                    <option value="@item.Id">@item.number</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Program Activity</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="programActivityId" id="programActivityId" class="form-control">
                                <option value="">----Select Activity----</option>

                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Attendee Name</label>
                        <div class="col-md-10 col-sm-10">
                            <input type="text" name="name" id="name" class="form-control" required value="@Model.programPeopleAttendee?.name" />
                            <input type="hidden" name="programattendeeId" id="programattendeeId" class="form-control" required value="@Model.programPeopleAttendee?.Id" />
                            <input type="hidden" name="accid" id="accid" class="form-control" required value="@Model.programPeopleAttendee?.programActivityId" />
                            <input type="hidden" name="IsEditadd" id="IsEditadd" class="form-control" required value="0" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Gender</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="genderId" id="genderId" class="form-control">
                                <option value="">----Select Gender----</option>
                                @foreach (var item in Model.genders)
                                {
                                    <option value="@item.Id">@item.name</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">ID Number Type</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="idTypeId" id="idTypeId" class="form-control">
                                <option value="">----Select ID Number Type----</option>
                                @foreach (var item in Model.idTypes)
                                {
                                    <option value="@item.Id">@item.typeName</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">ID Number</label>
                        <div class="col-md-10 col-sm-10">
                            <input type="text" name="idNumber" id="idNumber" value="@Model.programPeopleAttendee?.idNumber" class="form-control" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Mobile</label>
                        <div class="col-md-10 col-sm-10">
                            <input type="text" name="mobile" id="mobile" value="@Model.programPeopleAttendee?.mobile" class="form-control" />
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Attendee Union/Word</label>
                        <div class="col-md-10 col-sm-10">
                            <input type="text" name="union" id="union" class="form-control" required value="@Model.programPeopleAttendee?.union" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Attendee Village</label>
                        <div class="col-md-10 col-sm-10">
                            <input type="text" name="village" id="village" class="form-control" required value="@Model.programPeopleAttendee?.village" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Benificiary Type</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="benificiaryTypeId" id="benificiaryTypeId" class="form-control">
                                <option value="">----Select Benificiary Type----</option>
                                @foreach (var item in Model.benificiaryTypes)
                                {
                                    <option value="@item.Id">@item.typeName</option>
                                }
                            </select>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Age Range</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="dateRangeId" id="dateRangeId" class="form-control">
                                <option value="">----Select Age Range----</option>
                                @foreach (var item in Model.dateRanges)
                                {
                                    <option value="@item.Id">@item.name</option>
                                }
                            </select>
                        </div>
                    </div>


                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">People Type</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="peopleTypeId" id="peopleTypeId" class="form-control">
                                <option value="">----Select People Type----</option>
                                @foreach (var item in Model.peopleType)
                                {
                                    <option value="@item.Id">@item.name</option>
                                }
                            </select>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Is Ethnic</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="isEthnic" id="isEthnic" class="form-control">
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Is Female Headed</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="isFemaleHeaded" id="isFemaleHeaded" class="form-control">
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                                <option value="N/A">N/A</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-2 col-sm-2 col-form-label">Benificiary Active Type</label>
                        <div class="col-md-10 col-sm-10">
                            <select name="benificiaryActiveTypeId" id="benificiaryActiveTypeId" class="form-control">
                                <option value="">----Select Benificiary Active Type----</option>
                                @foreach (var item in Model.benificiaryActiveTypes)
                                {
                                    <option value="@item.Id">@item.name</option>
                                }
                            </select>
                        </div>
                    </div>



                    <input type="button" id="saveForm" value="Submit" class="btn btn-success ml-1" style="float:right; margin-top:5px;" />
                </form>
            </div>
        </div>
    </div>
</section>


@section Scripts{
<script>

        $(document).ready(function () {


            var modelId = window.localStorage.getItem('modelId');
            var parentId = window.localStorage.getItem('parentId');

            if (modelId != null) {
                $("#backBtn").prop('href', '/Home/GridMenuPage?moduleId=' + modelId + '&perentId=' + parentId);
            } else {
                $("#backBtn").prop('href', '/');
            }
            if ('@Model.programPeopleAttendee.Id' != '')
            {
                $('#programMasterId').val(@Model?.programPeopleAttendee?.programMasterId);
                var mid = '@Model?.programPeopleAttendee?.programMasterId'

                Common.Ajax('GET', '/global/api/getprogramactivityByMasterId/' + '@Model?.programPeopleAttendee?.programMasterId', [], 'json', orgDistrict);
                $('#programActivityId').val(@Model?.programPeopleAttendee?.programActivityId);
                $('#benificiaryTypeId').val(@Model?.programPeopleAttendee?.benificiaryTypeId);
                $('#idTypeId').val(@Model?.programPeopleAttendee?.idTypeId);
                $('#dateRangeId').val(@Model?.programPeopleAttendee?.dateRangeId);
                $('#genderId').val(@Model?.programPeopleAttendee?.genderId);
                $('#peopleTypeId').val(@Model?.programPeopleAttendee?.peopleTypeId);
                $('#benificiaryActiveTypeId').val(@Model?.programPeopleAttendee?.benificiaryActiveTypeId);
                $('#isEthnic').val('@Model?.programPeopleAttendee?.isEthnic');
                $('#isFemaleHeaded').val('@Model?.programPeopleAttendee?.isFemaleHeaded');
                $('#IsEditadd').val(1);
            }
            $('#programCategoryTable').DataTable();

            $('#date').datepicker({ uiLibrary: 'bootstrap4' });
            $('#fromdate').datepicker({ uiLibrary: 'bootstrap4' });
            $('#todate').datepicker({ uiLibrary: 'bootstrap4' });

            $("#programMasterId").change(function () {
                var id = $(this).val();
                Common.Ajax('GET', '/global/api/getprogramactivityByMasterId/' + id, [], 'json', orgDistrict);
            });



            //Form submit

            $("#saveForm").click(function () {
                var data = $("#myForm").serialize();
                let number = $('#number').val();
                let date = $('#date').val();
                let subject = $('#subject').val();

                let programMainCategoryId = $('#programMainCategoryId').val();
                let programCategoryId = $('#programCategoryId').val();
                let txtorgDivision = $('#txtorgDivision').val();
                let txtorgDistrict = $('#txtorgDistrict').val();
                let txtorgUpazila = $('#txtorgUpazila').val();

                swal({
                    title: 'Are you sure?', text: 'Do you want to Save this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, Save it!'
                }).then(function () {
                    $.ajax({
                        type: "POST",
                        url: "/Program/ProgramCategory/ProgramAttendees",
                        data: data,
                        success: function (response) {
                            swal('', 'Saved Successfully!', 'success')
                            location.reload(true);
                            //window.location.href = ";
                        }
                    });
                });
                return false;
            });
        });

        //end of form submit

        function orgDistrict(response) {
            var options = '<option value="">Select</option>';
            $.each(response, function (i, item) {
                options += '<option value="' + item.Id + '">' + item.activity + '</option>';
            });
            $('#programActivityId').empty();
            $('#programActivityId').append(options);

            if ($('#IsEditadd').val() == 1) {
                $('#programActivityId').val($('#accid').val());
            }
        }

        // Program Details
        function AddItemInfo() {
            var ifExistIndex = window.localStorage.getItem("holdIndex");
            var index = "0";
            if (ifExistIndex == "null" || ifExistIndex == null) {
                index = $("#tblfuelDetails tbody>tr").length;
            }
            else {
                index = ifExistIndex;
                tdRID = $("#tblfuelDetails tbody >tr:eq(" + ifExistIndex + ") td:eq(0) .clsitemId").val();
            }

            let id = parseInt($("#customerItemInfoId").val()) ? parseInt($("#customerItemInfoId").val()) : 0;
            let itemId = $('#itemId').val();
            let fuelTypeName = $('#headlineName').val();

            var editOption = parseInt($('#IsEdit').val()) ? parseInt($('#IsEdit').val()) : 0;
            var RowCount = $("#tblfuelDetails tbody>tr").length;


            if (fuelTypeName == null || fuelTypeName == '') {
                swal('Warning', 'Please you must be enter Headline Name!', 'warning');
                return false;
            }

            for (i = 0; i < RowCount; i++) {

                var _itemId = $('#headlineAll' + i + '').val();
                if (_itemId == fuelTypeName && editOption == 0) {
                    //alert('You have already added this Headline!');
                    swal('Warning', 'You have already added this Headline!', 'warning');
                    return false
                }
            }

            var dtTable = $("#tblfuelDetails");
            var tableBody = dtTable.find('tbody');
            var trHtml = '<tr id=' + index + '>' +
                '<td>' + fuelTypeName + '<input type="hidden" id="headlineAll' + index + '" name="headlineAll"class="clsId" value="' + fuelTypeName + '"></td>' +
                '<td><a href="javascript:void(0)"style="background-color:red;border-color:red" data-toggle="tooltip" title="Delete" class="btn btn-danger btn-xs" onclick="Delete(' + index + ')"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;' +
                '</tr>';

            if (ifExistIndex == null || ifExistIndex == "null") {
                tableBody.append(trHtml);
                $("#headlineName").val(null);
            }
            else {
                var rowUpdate = $("#tblfuelDetails tbody >tr:eq(" + ifExistIndex + ")");
                rowUpdate.replaceWith(trHtml);
                window.localStorage.setItem("holdIndex", null);
                ifExistIndex = null;
                $("#headlineName").val(null);
            }
        }
        function Delete(index) {

            swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                $("#tblfuelDetails #" + index).remove();

                swal('', 'Deleted Successfully!', 'success');
                $("#headlineName").val(null);
            });
            return false;
        }

        //  Program Subject


        function AddSubjectInfo() {
            var ifExistIndex = window.localStorage.getItem("holdIndex");
            var index = "0";
            if (ifExistIndex == "null" || ifExistIndex == null) {
                index = $("#tblSubjectInfo tbody>tr").length;
            }
            else {
                index = ifExistIndex;
                tdRID = $("#tblSubjectInfo tbody >tr:eq(" + ifExistIndex + ") td:eq(0) .clsitemId").val();
            }

            let id = parseInt($("#customerItemInfoId").val()) ? parseInt($("#customerItemInfoId").val()) : 0;
            let itemId = $('#itemId').val();
            let fuelTypeName = $('#subjectNameAll').val();

            var editOption = parseInt($('#IsEdit').val()) ? parseInt($('#IsEdit').val()) : 0;
            var RowCount = $("#tblSubjectInfo tbody>tr").length;

            if (fuelTypeName == null || fuelTypeName == '') {
                swal('Warning', 'Please you must be enter Subject Name!', 'warning');
                return false;
            }

            for (i = 0; i < RowCount; i++) {

                var _itemId = $('#subjectNameAll' + i + '').val();
                if (_itemId == fuelTypeName && editOption == 0) {
                    //alert('You have already added this Headline!');
                    swal('Warning', 'You have already added this Subject Name!', 'warning');
                    return false
                }
            }

            var dtTable = $("#tblSubjectInfo");
            var tableBody = dtTable.find('tbody');
            var trHtml = '<tr id=' + index + '>' +
                '<td>' + fuelTypeName + '<input type="hidden" id="subjectNameAll' + index + '" name="subjectNameAll"class="clsId" value="' + fuelTypeName + '"></td>' +
                '<td><a href="javascript:void(0)"style="background-color:red;border-color:red" data-toggle="tooltip" title="Delete" class="btn btn-danger btn-xs" onclick="DeleteSubjectInfo(' + index + ')"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;'
            '</tr>';

            if (ifExistIndex == null || ifExistIndex == "null") {
                tableBody.append(trHtml);
                $("#subjectNameAll").val(null);
            }
            else {
                var rowUpdate = $("#tblSubjectInfo tbody >tr:eq(" + ifExistIndex + ")");
                rowUpdate.replaceWith(trHtml);
                window.localStorage.setItem("holdIndex", null);
                ifExistIndex = null;
                $("#subjectNameAll").val(null);
            }

        }
        function DeleteSubjectInfo(index) {

            swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                $("#tblSubjectInfo #" + index).remove();

                swal('', 'Deleted Successfully!', 'success')
            });
            return false;
        }


        // Program Address

        function AddProgramInfo() {
            var ifExistIndex = window.localStorage.getItem("holdIndex");
            var index = "0";
            if (ifExistIndex == "null" || ifExistIndex == null) {
                index = $("#tblProgramAddress tbody>tr").length;
            }
            else {
                index = ifExistIndex;
                tdRID = $("#tblProgramAddress tbody >tr:eq(" + ifExistIndex + ") td:eq(0) .clsitemId").val();
            }

            let id = parseInt($("#customerItemInfoId").val()) ? parseInt($("#customerItemInfoId").val()) : 0;
            let itemId = $('#itemId').val();
            let fuelTypeName = $('#programNameAll').val();


            if (fuelTypeName == null || fuelTypeName == '') {
                swal('Warning', 'Please you must be enter Program Name!', 'warning');
                return false;
            }

            var editOption = parseInt($('#IsEdit').val()) ? parseInt($('#IsEdit').val()) : 0;
            var RowCount = $("#tblProgramAddress tbody>tr").length;

            for (i = 0; i < RowCount; i++) {

                var _itemId = $('#programNameAll' + i + '').val();
                if (_itemId == fuelTypeName && editOption == 0) {
                    //alert('You have already added this Headline!');
                    swal('Warning', 'You have already added this Program Name!', 'warning');
                    return false
                }
            }

            var dtTable = $("#tblProgramAddress");
            var tableBody = dtTable.find('tbody');
            var trHtml = '<tr id=' + index + '>' +
                '<td>' + fuelTypeName + '<input type="hidden" id="programNameAll' + index + '"  name="programNameAll"class="clsId" value="' + fuelTypeName + '"></td>' +
                '<td><a href="javascript:void(0)"style="background-color:red;border-color:red" data-toggle="tooltip" title="DeleteProgrammAddress" class="btn btn-danger btn-xs" onclick="DeleteProgrammAddress(' + index + ')"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;' +
                '</tr>';

            if (ifExistIndex == null || ifExistIndex == "null") {
                tableBody.append(trHtml);
                $("#programNameAll").val(null);
            }
            else {
                var rowUpdate = $("#tblProgramAddress tbody >tr:eq(" + ifExistIndex + ")");
                rowUpdate.replaceWith(trHtml);
                window.localStorage.setItem("holdIndex", null);
                ifExistIndex = null;
                $("#programNameAll").val(null);
            }
            //Refresh();
        }
        function DeleteProgrammAddress(index) {

            swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                $("#tblProgramAddress #" + index).remove();

                swal('', 'Deleted Successfully!', 'success')
            });
            return false;
        }

        //  Program Discussion


        function AddDiscussionInfo() {
            var ifExistIndex = window.localStorage.getItem("holdIndex");
            var index = "0";
            if (ifExistIndex == "null" || ifExistIndex == null) {
                index = $("#tblDiscussionInfo tbody>tr").length;
            }
            else {
                index = ifExistIndex;
                tdRID = $("#tblDiscussionInfo tbody >tr:eq(" + ifExistIndex + ") td:eq(0) .clsitemId").val();
            }

            let id = parseInt($("#customerItemInfoId").val()) ? parseInt($("#customerItemInfoId").val()) : 0;
            let itemId = $('#itemId').val();
            let fuelTypeName = $('#discussionNameAll').val();
            let fuelTypeQuantity = $('#discussionQuantity').val();


            if (fuelTypeName == null || fuelTypeName == '') {
                swal('Warning', 'Please you must be enter Discussion Name!', 'warning');
                return false;
            }
            if (fuelTypeQuantity == null || fuelTypeQuantity == '') {
                swal('Warning', 'Please you must be enter Number of Quantity!', 'warning');
                return false;
            }

            var editOption = parseInt($('#IsEdit').val()) ? parseInt($('#IsEdit').val()) : 0;
            var RowCount = $("#tblDiscussionInfo tbody>tr").length;

            for (i = 0; i < RowCount; i++) {

                var _itemId = $('#discussionNameAll' + i + '').val();
                if (_itemId == fuelTypeName && editOption == 0) {
                    //alert('You have already added this Headline!');
                    swal('Warning', 'You have already added this Discussion Name!', 'warning');
                    return false
                }
            }

            var dtTable = $("#tblDiscussionInfo");
            var tableBody = dtTable.find('tbody');
            var trHtml = '<tr id=' + index + '>' +
                '<td>' + fuelTypeName + '<input type="hidden" id="discussionNameAll' + index + '" name="discussionNameAll"class="clsId" value="' + fuelTypeName + '"><input type="hidden" name="itemidall"  id="txtitemId' + index + '" class="clsitemId"value="' + itemId + '"/></td>' +
                '<td>' + fuelTypeQuantity + '<input type="hidden" name="discussionQuantityAll"class="clsId" value="' + fuelTypeQuantity + '"><input type="hidden" name="itemidall"  id="txtitemId' + index + '" class="clsitemId"value="' + itemId + '"/></td>' +
                '<td><a href="javascript:void(0)"style="background-color:red;border-color:red" data-toggle="tooltip" title="Delete" class="btn btn-danger btn-xs" onclick="DeleteDiscussionInfo(' + index + ')"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;' +
                '</tr>';

            if (ifExistIndex == null || ifExistIndex == "null") {
                tableBody.append(trHtml);
                $("#discussionNameAll").val(null);
                $("#discussionQuantity").val(null);
            }
            else {
                var rowUpdate = $("#tblDiscussionInfo tbody >tr:eq(" + ifExistIndex + ")");
                rowUpdate.replaceWith(trHtml);
                window.localStorage.setItem("holdIndex", null);
                ifExistIndex = null;
                $("#discussionNameAll").val(null);
                $("#discussionQuantity").val(null);
            }
            //Refresh();
        }
        function DeleteDiscussionInfo(index) {

            swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                $("#tblDiscussionInfo #" + index).remove();

                swal('', 'Deleted Successfully!', 'success')
            });
            return false;
        }


        // Program Attendee

        function AddProgramAttendeeInfo() {
            var ifExistIndex = window.localStorage.getItem("holdIndex");
            var index = "0";
            if (ifExistIndex == "null" || ifExistIndex == null) {
                index = $("#tblProgramAttendee tbody>tr").length;
            }
            else {
                index = ifExistIndex;
                tdRID = $("#tblProgramAttendee tbody >tr:eq(" + ifExistIndex + ") td:eq(0) .clsitemId").val();
            }

            let id = parseInt($("#customerItemInfoId").val()) ? parseInt($("#customerItemInfoId").val()) : 0;
            let itemId = $('#itemId').val();
            let fuelTypeName = $('#attendeeNameAll').val();
            let fuelTypeAddress = $('#attendeeAddressAll').val();
            let fuelTypeContact = $('#attendeeContactAll').val();
            let fuelTypeType = $('#attendeeTypeAll').val();


            if (fuelTypeName == null || fuelTypeName == '') {
                swal('Warning', 'Please you must be enter Attendee Name!', 'warning');
                return false;
            }
            if (fuelTypeContact == null || fuelTypeContact == '') {
                swal('Warning', 'Please you must be enter Contact Number!', 'warning');
                return false;
            }
            if (fuelTypeType == null || fuelTypeType == '') {
                fuelTypeType = 'N/A';

            }
            if (fuelTypeAddress == null || fuelTypeAddress == '') {
                fuelTypeAddress = 'N/A';

            }

            var editOption = parseInt($('#IsEdit').val()) ? parseInt($('#IsEdit').val()) : 0;
            var RowCount = $("#tblProgramAttendee tbody>tr").length;

            for (i = 0; i < RowCount; i++) {

                var _itemId = $('#attendeeNameAll' + i + '').val();
                var _itemIdC = $('#attendeeContactAll' + i + '').val();
                if (_itemId == fuelTypeName && editOption == 0 && _itemIdC == fuelTypeContact) {
                    //alert('You have already added this Headline!');
                    swal('Warning', 'You have already added this Attendee Name!', 'warning');
                    return false
                }
            }


            var dtTable = $("#tblProgramAttendee");
            var tableBody = dtTable.find('tbody');
            var trHtml = '<tr id=' + index + '>' +
                '<td>' + fuelTypeName + '<input type="hidden" id="attendeeNameAll' + index + '" name="attendeeNameAll"class="clsId" value="' + fuelTypeName + '"></td>' +
                '<td>' + fuelTypeAddress + '<input type="hidden" name="attendeeAddressAll"class="clsId" value="' + fuelTypeAddress + '"></td>' +
                '<td>' + fuelTypeContact + '<input type="hidden" id="attendeeContactAll' + index + '" name="attendeeContactAll"class="clsId" value="' + fuelTypeContact + '"></td>' +
                '<td>' + fuelTypeType + '<input type="hidden" name="attendeeTypeAll"class="clsId" value="' + fuelTypeType + '"></td>' +
                '<td><a href="javascript:void(0)"style="background-color:red;border-color:red" data-toggle="tooltip" title="Delete" class="btn btn-danger btn-xs" onclick="DeletetblAttendeeInfo(' + index + ')"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;' +
                '</tr>';

            if (ifExistIndex == null || ifExistIndex == "null") {
                tableBody.append(trHtml);
                $("#attendeeNameAll").val(null);
                $("#attendeeAddressAll").val(null);
                $("#attendeeContactAll").val(null);
                $("#attendeeTypeAll").val(null);
            }
            else {
                var rowUpdate = $("#tblProgramAttendee tbody >tr:eq(" + ifExistIndex + ")");
                rowUpdate.replaceWith(trHtml);
                window.localStorage.setItem("holdIndex", null);
                ifExistIndex = null;
                $("#attendeeNameAll").val(null);
                $("#attendeeAddressAll").val(null);
                $("#attendeeContactAll").val(null);
                $("#attendeeTypeAll").val(null);
            }
            //Refresh();
        }
        function DeletetblAttendeeInfo(index) {

            swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                $("#tblProgramAttendee #" + index).remove();

                swal('', 'Deleted Successfully!', 'success')
            });
            return false;
        }


        // Program Viewer

        function AddProgramViewerInfo() {
            var ifExistIndex = window.localStorage.getItem("holdIndex");
            var index = "0";
            if (ifExistIndex == "null" || ifExistIndex == null) {
                index = $("#tblProgramViewerInfo tbody>tr").length;
            }
            else {
                index = ifExistIndex;
                tdRID = $("#tblProgramViewerInfo tbody >tr:eq(" + ifExistIndex + ") td:eq(0) .clsitemId").val();
            }

            let id = parseInt($("#customerItemInfoId").val()) ? parseInt($("#customerItemInfoId").val()) : 0;
            let itemId = $('#itemId').val();
            let fuelTypeName = $('#viewerNameAll').val();
            let fuelTypeType = $('#viewerQuantityAll').val();


            if (fuelTypeName == null || fuelTypeName == '') {
                swal('Warning', 'Please you must be enter Viewer Name!', 'warning');
                return false;
            }

            if (fuelTypeType == null || fuelTypeType == '') {
                swal('Warning', 'Please you must be enter number of Quantity!', 'warning');
                return false;
            }

            var editOption = parseInt($('#IsEdit').val()) ? parseInt($('#IsEdit').val()) : 0;
            var RowCount = $("#tblProgramViewerInfo tbody>tr").length;

            for (i = 0; i < RowCount; i++) {

                var _itemId = $('#viewerNameAll' + i + '').val();
                if (_itemId == fuelTypeName && editOption == 0) {
                    //alert('You have already added this Headline!');
                    swal('Warning', 'You have already added this Viewer Name!', 'warning');
                    return false
                }
            }

            var dtTable = $("#tblProgramViewerInfo");
            var tableBody = dtTable.find('tbody');
            var trHtml = '<tr id=' + index + '>' +
                '<td>' + fuelTypeName + '<input type="hidden" id="viewerNameAll' + index + '" name="viewerNameAll"class="clsId" value="' + fuelTypeName + '"></td>' +
                '<td>' + fuelTypeType + '<input type="hidden" name="viewerQuantityAll"class="clsId" value="' + fuelTypeType + '"></td>' +
                '<td><a href="javascript:void(0)"style="background-color:red;border-color:red" data-toggle="tooltip" title="Delete" class="btn btn-danger btn-xs" onclick="DeletetblProgramViewerInfo(' + index + ')"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;' +
                '</tr>';

            if (ifExistIndex == null || ifExistIndex == "null") {
                tableBody.append(trHtml);
                $("#viewerNameAll").val(null);
                $("#viewerQuantityAll").val(null);
            }
            else {
                var rowUpdate = $("#tblProgramViewerInfo tbody >tr:eq(" + ifExistIndex + ")");
                rowUpdate.replaceWith(trHtml);
                window.localStorage.setItem("holdIndex", null);
                ifExistIndex = null;
                $("#viewerNameAll").val(null);
                $("#viewerQuantityAll").val(null);
            }
            //Refresh();
        }
        function DeletetblProgramViewerInfo(index) {

            swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                $("#tblProgramViewerInfo #" + index).remove();

                swal('', 'Deleted Successfully!', 'success')
            });
            return false;
        }

        // Program Attachment
        var Click = 0;
        function AddProgramAttachmentInfo() {

            var newField = '<div id="div' + Click + '"> <a  onclick="DeleteAttachment(' + Click + ')" style="float:right" class="text-danger">X</a><div class="form-group row"><label for="itemId" class= "col-md-4 col-sm-4 col-form-label">Caption</label><div class="col-md-8 col-sm-8"><textarea type="text" placeholder="please type caption" class="form-control" name="captionAll" id="captionAll" autocomplete="off" required></textarea></div></div ><div class="form-group row" id="fileAppend"><label for="itemId" class="col-md-4 col-sm-4 col-form-label">Attachment File</label><div class="col-md-6 col-sm-6"><input type="file" placeholder="please type program name" class="form-control" name="attachmentFileAll" id="attachmentFileAll" autocomplete="off" required /></div></div></div>';
            Click = Click + 1;
            $("#fileDiv").append(newField);
        }

        function DeleteAttachment(Click) {
            swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                $("#div" + Click).remove();

                swal('', 'Deleted Successfully!', 'success')
            });
            return false;
        }


                // Program Attachment

                //function AddProgramAttachmentInfo() {
                //    var ifExistIndex = window.localStorage.getItem("holdIndex");
                //    var index = "0";
                //    if (ifExistIndex == "null" || ifExistIndex == null) {
                //        index = $("#tblProgramAttachment tbody>tr").length;
                //    }
                //    else {
                //        index = ifExistIndex;
                //        tdRID = $("#tblProgramAttachment tbody >tr:eq(" + ifExistIndex + ") td:eq(0) .clsitemId").val();
                //    }

                //    let id = parseInt($("#customerItemInfoId").val()) ? parseInt($("#customerItemInfoId").val()) : 0;
                //    let itemId = $('#itemId').val();
                //    let fuelTypeName = $('#captionAll').val();
                //    let fuelAttachment = $('#attachmentFileAll').val();

                //    if (fuelTypeName == null || fuelTypeName == '') {

                //        swal('Warning', 'Please you must be enter Caption!', 'warning');
                //        return false;
                //    }

                //    if (fuelAttachment == null || fuelAttachment == '') {

                //        swal('Warning', 'Please you must be select a file!', 'warning');
                //        return false;
                //    }

                //    var editOption = parseInt($('#IsEdit').val()) ? parseInt($('#IsEdit').val()) : 0;
                //    var RowCount = $("#tblProgramAttachment tbody>tr").length;


                //    for (i = 0; i < RowCount; i++) {

                //        var _itemId = $('#captionAll' + i + '').val();
                //        if (_itemId == fuelTypeName && editOption == 0) {
                //            //alert('You have already added this Headline!');
                //            swal('Warning', 'You have already added this Caption!', 'warning');
                //            return false
                //        }
                //    }

                //    var dtTable = $("#tblProgramAttachment");
                //    var tableBody = dtTable.find('tbody');
                //    var trHtml = '<tr id=' + index + '>' +
                //        '<td>' + fuelTypeName + '<input type="hidden"  id="captionAll' + index +'"  name="captionAll"class="clsId" value="' + fuelTypeName + '"></td>' +
                //        '<td>' + fuelAttachment + '<input type="hidden" name="attachmentFileAll"class="clsId" value="' + fuelAttachment + '"></td>' +
                //        '<td><a href="javascript:void(0)"style="background-color:red;border-color:red" data-toggle="tooltip" title="Delete" class="btn btn-danger btn-xs" onclick="DeletetblAttachmentInfo(' + index + ')"><i class="fa fa-trash"></i></a>&nbsp;&nbsp;' +
                //        '</tr>';

                //    if (ifExistIndex == null || ifExistIndex == "null") {
                //        tableBody.append(trHtml);
                //    }
                //    else {
                //        var rowUpdate = $("#tblProgramAttachment tbody >tr:eq(" + ifExistIndex + ")");
                //        rowUpdate.replaceWith(trHtml);
                //        window.localStorage.setItem("holdIndex", null);
                //        ifExistIndex = null;
                //    }
                //    //Refresh();
                //}
                //function DeletetblAttachmentInfo(index) {

                //    swal({
                //        title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
                //    }).then(function () {
                //        //window.location.href = "/Purchase/PurchaseOrder/DeleteComments?Id=" + Id + '&actionId=' + actionTypeId;;
                //        $("#tblProgramAttachment #" + index).remove();

                //        swal('', 'Deleted Successfully!', 'success')
                //    });
                //    return false;
                //}



</script>
}